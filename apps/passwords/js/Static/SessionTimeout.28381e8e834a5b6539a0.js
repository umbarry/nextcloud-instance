(self.webpackChunkncpasswords=self.webpackChunkncpasswords||[]).push([[3022],{15504:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});const i={}},9134:(t,e,s)=>{"use strict";s.d(e,{A:()=>l});var i=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon timer-sand-icon",attrs:{"aria-hidden":!t.title||null,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M6,2H18V8H18V8L14,12L18,16V16H18V22H6V16H6V16L10,12L6,8V8H6V2M16,16.5L12,12.5L8,16.5V20H16V16.5M12,11.5L16,7.5V4H8V7.5L12,11.5M10,6H14V6.75L12,8.75L10,6.75V6Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])};i._withStripped=!0;const a={name:"TimerSandIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},l=(0,s(14486).A)(a,i,[],!1,null,null,null).exports},63269:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>m});var i=function(){var t=this,e=t._self._c;return t.showTimer?e("translate",{class:t.cssClass,attrs:{tag:t.tag,say:"You will be logged out in {time} seconds",variables:{time:t.time}}},[e("timer-sand-icon",{attrs:{slot:"icon"},slot:"icon"})],1):t._e()};i._withStripped=!0;var a=s(89843),l=s(16993),r=s(53024),n=s(56423),o=s(9134),u=s(61338);const c={components:{TimerSandIcon:o.A,Translate:r.A},props:{scope:{type:String,default:"menu"}},data:()=>({hasTimeout:l.A.hasTimeout,lastRequest:l.A.lastRequest,lifeTime:1e3*a.A.get("user.session.lifetime"),timer:null,time:100}),created(){this.hasTimeout&&this.startInterval(),(0,u.B1)("passwords:keepalive:updated",(t=>{this.hasTimeout=t.hasTimeout})),(0,u.B1)("passwords:keepalive:activity",(t=>{this.lastRequest=t.time})),a.A.observe("user.session.lifetime",(t=>{this.lifeTime=1e3*t.value}))},computed:{showTimer(){return this.hasTimeout&&this.time<=45&&n.A.isAuthorized},tag(){return"global"===this.scope?"div":"li"},cssClass(){return"session-timeout "+("global"===this.scope?"session-timer-global":"app-navigation-entry--pinned")}},methods:{startInterval(){this.timer=setInterval((()=>{let t=this.lastRequest+this.lifeTime-Date.now();this.time=t>0?Math.round(t/1e3):0}),1e3)}},watch:{hasTimeout(t){clearInterval(this.timer),t&&this.startInterval()}}};s(38887);const m=(0,s(14486).A)(c,i,[],!1,null,null,null).exports},38887:(t,e,s)=>{var i=s(15504);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,s(70534).A)("510177aa",i,!1,{})}}]);