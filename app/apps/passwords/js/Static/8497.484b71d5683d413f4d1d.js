/*! For license information please see 8497.484b71d5683d413f4d1d.js.LICENSE.txt */
(self.webpackChunkncpasswords=self.webpackChunkncpasswords||[]).push([[8497],{2078:(e,t,n)=>{"use strict";n.d(t,{K:()=>R});var o=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],i=o.join(","),r="undefined"==typeof Element,a=r?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,s=!r&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},l=function e(t,n){var o;void 0===n&&(n=!0);var i=null==t||null===(o=t.getAttribute)||void 0===o?void 0:o.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},u=function(e,t,n){if(l(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&a.call(e,i)&&o.unshift(e),o.filter(n)},c=function e(t,n,o){for(var r=[],s=Array.from(t);s.length;){var u=s.shift();if(!l(u,!1))if("SLOT"===u.tagName){var c=u.assignedElements(),d=e(c.length?c:u.children,!0,o);o.flatten?r.push.apply(r,d):r.push({scopeParent:u,candidates:d})}else{a.call(u,i)&&o.filter(u)&&(n||!t.includes(u))&&r.push(u);var p=u.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(u),f=!l(p,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(u));if(p&&f){var h=e(!0===p?u.children:p.children,!0,o);o.flatten?r.push.apply(r,h):r.push({scopeParent:u,candidates:h})}else s.unshift.apply(s,u.children)}}return r},d=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},p=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!d(e)?0:e.tabIndex},f=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},h=function(e){return"INPUT"===e.tagName},v=function(e){var t=e.getBoundingClientRect(),n=t.width,o=t.height;return 0===n&&0===o},m=function(e,t){return!(t.disabled||l(t)||function(e){return h(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,o=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=a.call(e,"details>summary:first-of-type")?e.parentElement:e;if(a.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return v(e)}else{if("function"==typeof o){for(var r=e;e;){var l=e.parentElement,u=s(e);if(l&&!l.shadowRoot&&!0===o(l))return v(e);e=e.assignedSlot?e.assignedSlot:l||u===e.ownerDocument?l:u.host}e=r}if(function(e){var t,n,o,i,r=e&&s(e),a=null===(t=r)||void 0===t?void 0:t.host,l=!1;if(r&&r!==e)for(l=!!(null!==(n=a)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(a)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!l&&a;){var u,c,d;l=!(null===(c=a=null===(u=r=s(a))||void 0===u?void 0:u.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(a))}return l}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var o=t.children.item(n);if("LEGEND"===o.tagName)return!!a.call(t,"fieldset[disabled] *")||!o.contains(e)}return!0}t=t.parentElement}return!1}(t))},g=function(e,t){return!(function(e){return function(e){return h(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||s(e),o=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=o(window.CSS.escape(e.name));else try{t=o(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)}(t)||p(t)<0||!m(e,t))},b=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},y=function e(t){var n=[],o=[];return t.forEach((function(t,i){var r=!!t.scopeParent,a=r?t.scopeParent:t,s=function(e,t){var n=p(e);return n<0&&t&&!d(e)?0:n}(a,r),l=r?e(t.candidates):a;0===s?r?n.push.apply(n,l):n.push(a):o.push({documentOrder:i,tabIndex:s,item:t,isScope:r,content:l})})),o.sort(f).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},w=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,i)&&g(t,e)},A=o.concat("iframe").join(","),N=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==a.call(e,A)&&m(t,e)};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){var o,i,r;o=e,i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},k=function(e){return E(e)&&!e.shiftKey},F=function(e){return E(e)&&e.shiftKey},x=function(e){return setTimeout(e,0)},I=function(e,t){var n=-1;return e.every((function(e,o){return!t(e)||(n=o,!1)})),n},O=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return"function"==typeof e?e.apply(void 0,n):e},P=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},C=[],R=function(e,t){var n,o=(null==t?void 0:t.document)||document,i=(null==t?void 0:t.trapStack)||C,r=T({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:k,isKeyBackward:F},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(e,t,n){return e&&void 0!==e[t]?e[t]:r[n||t]},l=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return a.containerGroups.findIndex((function(t){var o=t.container,i=t.tabbableNodes;return o.contains(e)||(null==n?void 0:n.includes(o))||i.find((function(t){return t===e}))}))},d=function(e){var t=r[e];if("function"==typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t=t.apply(void 0,i)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=o.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},f=function(){var e=d("initialFocus");if(!1===e)return!1;if(void 0===e||!N(e,r.tabbableOptions))if(l(o.activeElement)>=0)e=o.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||d("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},h=function(){if(a.containerGroups=a.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?c([e],t.includeContainer,{filter:g.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:b}):u(e,t.includeContainer,g.bind(null,t)),y(n)}(e,r.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?c([e],t.includeContainer,{filter:m.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):u(e,t.includeContainer,m.bind(null,t))}(e,r.tabbableOptions),o=t.length>0?t[0]:void 0,i=t.length>0?t[t.length-1]:void 0,a=n.find((function(e){return w(e)})),s=n.slice().reverse().find((function(e){return w(e)})),l=!!t.find((function(e){return p(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:o,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(e){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.indexOf(e);return i<0?o?n.slice(n.indexOf(e)+1).find((function(e){return w(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return w(e)})):t[i+(o?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(e){return e.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},v=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},A=function e(t){!1!==t&&t!==v(document)&&(t&&t.focus?(t.focus({preventScroll:!!r.preventScroll}),a.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(f()))},S=function(e){var t=d("setReturnFocus",e);return t||!1!==t&&e},R=function(e){var t=e.target,n=e.event,o=e.isBackward,i=void 0!==o&&o;t=t||P(n),h();var s=null;if(a.tabbableGroups.length>0){var u=l(t,n),c=u>=0?a.containerGroups[u]:void 0;if(u<0)s=i?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(i){var f=I(a.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(f<0&&(c.container===t||N(t,r.tabbableOptions)&&!w(t,r.tabbableOptions)&&!c.nextTabbableNode(t,!1))&&(f=u),f>=0){var v=0===f?a.tabbableGroups.length-1:f-1,m=a.tabbableGroups[v];s=p(t)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else E(n)||(s=c.nextTabbableNode(t,!1))}else{var g=I(a.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(g<0&&(c.container===t||N(t,r.tabbableOptions)&&!w(t,r.tabbableOptions)&&!c.nextTabbableNode(t))&&(g=u),g>=0){var b=g===a.tabbableGroups.length-1?0:g+1,y=a.tabbableGroups[b];s=p(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else E(n)||(s=c.nextTabbableNode(t))}}else s=d("fallbackFocus");return s},D=function(e){var t=P(e);l(t,e)>=0||(O(r.clickOutsideDeactivates,e)?n.deactivate({returnFocus:r.returnFocusOnDeactivate}):O(r.allowOutsideClick,e)||e.preventDefault())},M=function(e){var t=P(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(a.mostRecentlyFocusedNode=t);else{var o;e.stopImmediatePropagation();var i=!0;if(a.mostRecentlyFocusedNode)if(p(a.mostRecentlyFocusedNode)>0){var s=l(a.mostRecentlyFocusedNode),u=a.containerGroups[s].tabbableNodes;if(u.length>0){var c=u.findIndex((function(e){return e===a.mostRecentlyFocusedNode}));c>=0&&(r.isKeyForward(a.recentNavEvent)?c+1<u.length&&(o=u[c+1],i=!1):c-1>=0&&(o=u[c-1],i=!1))}}else a.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return p(e)>0}))}))||(i=!1);else i=!1;i&&(o=R({target:a.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(a.recentNavEvent)})),A(o||a.mostRecentlyFocusedNode||f())}a.recentNavEvent=void 0},B=function(e){if(("Escape"===(null==(t=e)?void 0:t.key)||"Esc"===(null==t?void 0:t.key)||27===(null==t?void 0:t.keyCode))&&!1!==O(r.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();var t;(r.isKeyForward(e)||r.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=e;var n=R({event:e,isBackward:t});n&&(E(e)&&e.preventDefault(),A(n))}(e,r.isKeyBackward(e))},$=function(e){var t=P(e);l(t,e)>=0||O(r.clickOutsideDeactivates,e)||O(r.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},_=function(){if(a.active)return function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var o=e.indexOf(t);-1===o||e.splice(o,1),e.push(t)}(i,n),a.delayInitialFocusTimer=r.delayInitialFocus?x((function(){A(f())})):A(f()),o.addEventListener("focusin",M,!0),o.addEventListener("mousedown",D,{capture:!0,passive:!1}),o.addEventListener("touchstart",D,{capture:!0,passive:!1}),o.addEventListener("click",$,{capture:!0,passive:!1}),o.addEventListener("keydown",B,{capture:!0,passive:!1}),n},L=function(){if(a.active)return o.removeEventListener("focusin",M,!0),o.removeEventListener("mousedown",D,!0),o.removeEventListener("touchstart",D,!0),o.removeEventListener("click",$,!0),o.removeEventListener("keydown",B,!0),n},G="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===a.mostRecentlyFocusedNode}))}))&&A(f())})):void 0,K=function(){G&&(G.disconnect(),a.active&&!a.paused&&a.containers.map((function(e){G.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=s(e,"onActivate"),n=s(e,"onPostActivate"),i=s(e,"checkCanFocusTrap");i||h(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=o.activeElement,null==t||t();var r=function(){i&&h(),_(),K(),null==n||n()};return i?(i(a.containers.concat()).then(r,r),this):(r(),this)},deactivate:function(e){if(!a.active)return this;var t=T({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,L(),a.active=!1,a.paused=!1,K(),function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}(i,n);var o=s(t,"onDeactivate"),l=s(t,"onPostDeactivate"),u=s(t,"checkCanReturnFocus"),c=s(t,"returnFocus","returnFocusOnDeactivate");null==o||o();var d=function(){x((function(){c&&A(S(a.nodeFocusedBeforeActivation)),null==l||l()}))};return c&&u?(u(S(a.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(e){if(a.paused||!a.active)return this;var t=s(e,"onPause"),n=s(e,"onPostPause");return a.paused=!0,null==t||t(),L(),K(),null==n||n(),this},unpause:function(e){if(!a.paused||!a.active)return this;var t=s(e,"onUnpause"),n=s(e,"onPostUnpause");return a.paused=!1,null==t||t(),h(),_(),K(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map((function(e){return"string"==typeof e?o.querySelector(e):e})),a.active&&h(),K(),this}}).updateContainerElements(e),n}},72725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={}},74846:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={}},90700:(e,t,n)=>{var o=n(72725);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,n(70534).A)("0141d740",o,!1,{})},46099:(e,t,n)=>{var o=n(74846);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,n(70534).A)("f7d21e00",o,!1,{})},75003:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var o=n(85156);const i={name:"DotsHorizontalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var r=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon dots-horizontal-icon",attrs:{"aria-hidden":!e.title||null,"aria-label":e.title,role:"img"},on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},a=[];const s=(0,o.n)(i,r,a,!1,null,null,null,null).exports},86241:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});const o=e=>Math.random().toString(36).replace(/[^a-z]+/g,"").slice(0,e||5)},88497:(e,t,n)=>{"use strict";n.d(t,{N:()=>f}),n(90700);var o=n(74095),i=n(77991),r=n(86241),a=n(43483),s=n(49197),l=n(62893),u=n(75003),c=n(85156);(0,s.r)(s.o);const d=".focusable",p={name:"NcActions",components:{NcButton:o.default,DotsHorizontal:u.D,NcPopover:i.N},provide(){return{"NcActions:isSemanticMenu":(0,l.EW)((()=>"menu"===this.actionsMenuSemanticType))}},props:{open:{type:Boolean,default:!1},manualOpen:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},forceName:{type:Boolean,default:!1},menuName:{type:String,default:null},forceSemanticType:{type:String,default:null,validator:e=>["dialog","menu","expanded","tooltip"].includes(e)},primary:{type:Boolean,default:!1},type:{type:String,validator:e=>-1!==["primary","secondary","tertiary","tertiary-no-background","tertiary-on-primary","error","warning","success"].indexOf(e),default:null},defaultIcon:{type:String,default:""},ariaLabel:{type:String,default:(0,s.a)("Actions")},ariaHidden:{type:Boolean,default:null},placement:{type:String,default:"bottom"},boundariesElement:{type:Element,default:()=>document.querySelector("body")},container:{type:[String,Object,Element,Boolean],default:"body"},disabled:{type:Boolean,default:!1},inline:{type:Number,default:0}},emits:["open","update:open","close","focus","blur","click"],setup(){const e="menu-".concat((0,r.G)());return{randomId:e,triggerRandomId:"trigger-".concat(e)}},data(){return{opened:this.open,focusIndex:0,actionsMenuSemanticType:"unknown",externalFocusTrapStack:[]}},computed:{triggerBtnType(){return this.type||(this.primary?"primary":this.menuName?"secondary":"tertiary")},config(){return{menu:{popupRole:"menu",withArrowNavigation:!0,withTabNavigation:!1,withFocusTrap:!1,triggerA11yAttr:{"aria-controls":this.opened?this.randomId:null},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{id:this.randomId,role:"menu"}},expanded:{popupRole:void 0,withArrowNavigation:!1,withTabNavigation:!0,withFocusTrap:!1,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}},dialog:{popupRole:"dialog",withArrowNavigation:!1,withTabNavigation:!0,withFocusTrap:!0,triggerA11yAttr:{"aria-controls":this.opened?this.randomId:null},popoverContainerA11yAttrs:{id:this.randomId,role:"dialog","aria-labelledby":this.triggerRandomId,"aria-modal":"true"},popoverUlA11yAttrs:{}},tooltip:{popupRole:void 0,withArrowNavigation:!1,withTabNavigation:!1,withFocusTrap:!1,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}},unknown:{popupRole:void 0,role:void 0,withArrowNavigation:!0,withTabNavigation:!1,withFocusTrap:!0,triggerA11yAttr:{},popoverContainerA11yAttrs:{},popoverUlA11yAttrs:{}}}[this.actionsMenuSemanticType]}},watch:{open(e){e!==this.opened&&(this.opened=e)},opened(){this.intersectIntoCurrentFocusTrapStack()}},methods:{getActionName(e){var t,n,o,i,r;return null!=(r=null==(o=null==(n=null==(t=null==e?void 0:e.componentOptions)?void 0:t.Ctor)?void 0:n.extendOptions)?void 0:o.name)?r:null==(i=null==e?void 0:e.componentOptions)?void 0:i.tag},intersectIntoCurrentFocusTrapStack(){if(!this.config.withFocusTrap)if(this.opened){this.externalFocusTrapStack=[...(0,a.g)()];for(const e of this.externalFocusTrapStack)e.pause()}else{for(const e of this.externalFocusTrapStack)e.unpause();this.externalFocusTrapStack=[]}},isValidSingleAction(e){return["NcActionButton","NcActionLink","NcActionRouter"].includes(this.getActionName(e))},isIconUrl(e){try{return!!new URL(e,e.startsWith("/")?window.location.origin:void 0)}catch(e){return!1}},openMenu(e){this.opened||(this.opened=!0,this.$emit("update:open",!0),this.$emit("open"))},async closeMenu(e=!0){var t,n;this.opened&&(await this.$nextTick(),this.opened=!1,null==(t=this.$refs.popover)||t.clearFocusTrap({returnFocus:e}),this.$emit("update:open",!1),this.$emit("close"),this.focusIndex=0,e&&(null==(n=this.$refs.menuButton)||n.$el.focus()))},onOpen(){this.$nextTick((()=>{this.focusFirstAction(null),this.resizePopover()}))},resizePopover(){const e=this.$refs.menu.closest(".v-popper__inner"),t=Number.parseFloat(window.getComputedStyle(e).maxHeight);if(this.$refs.menu.clientHeight>t){let n=0,o=0;for(const i of this.$refs.menuList.children){if(n+i.clientHeight/2>t){e.style.height="".concat(n-o/2,"px");break}o=i.clientHeight,n+=o}}},getCurrentActiveMenuItemElement(){return this.$refs.menu.querySelector("li.active")},getFocusableMenuItemElements(){return this.$refs.menu.querySelectorAll(d)},onMouseFocusAction(e){if(document.activeElement===e.target)return;const t=e.target.closest("li");if(t&&this.$refs.menu.contains(t)){const e=t.querySelector(d);if(e){const t=[...this.getFocusableMenuItemElements()].indexOf(e);t>-1&&(this.focusIndex=t,this.focusAction())}}},onKeydown(e){if("Tab"===e.key){if(this.config.withFocusTrap)return;if(!this.config.withTabNavigation)return void this.closeMenu(!0);e.preventDefault();const t=this.getFocusableMenuItemElements(),n=[...t].indexOf(document.activeElement);if(-1===n)return;const o=e.shiftKey?n-1:n+1;return(o<0||o===t.length)&&this.closeMenu(!0),this.focusIndex=o,void this.focusAction()}this.config.withArrowNavigation&&("ArrowUp"===e.key&&this.focusPreviousAction(e),"ArrowDown"===e.key&&this.focusNextAction(e),"PageUp"===e.key&&this.focusFirstAction(e),"PageDown"===e.key&&this.focusLastAction(e)),"Escape"===e.key&&(this.closeMenu(),e.preventDefault())},onTriggerKeydown(e){"Escape"===e.key&&"tooltip"===this.actionsMenuSemanticType&&this.closeMenu()},removeCurrentActive(){const e=this.$refs.menu.querySelector("li.active");e&&e.classList.remove("active")},focusAction(){const e=this.getFocusableMenuItemElements()[this.focusIndex];if(e){this.removeCurrentActive();const t=e.closest("li.action");e.focus(),t&&t.classList.add("active")}},focusPreviousAction(e){this.opened&&(0===this.focusIndex?this.focusLastAction(e):(this.preventIfEvent(e),this.focusIndex=this.focusIndex-1),this.focusAction())},focusNextAction(e){if(this.opened){const t=this.getFocusableMenuItemElements().length-1;this.focusIndex===t?this.focusFirstAction(e):(this.preventIfEvent(e),this.focusIndex=this.focusIndex+1),this.focusAction()}},focusFirstAction(e){if(this.opened){this.preventIfEvent(e);const t=[...this.getFocusableMenuItemElements()].findIndex((e=>"true"===e.getAttribute("aria-checked")&&"menuitemradio"===e.getAttribute("role")));this.focusIndex=t>-1?t:0,this.focusAction()}},focusLastAction(e){this.opened&&(this.preventIfEvent(e),this.focusIndex=this.getFocusableMenuItemElements().length-1,this.focusAction())},preventIfEvent(e){e&&(e.preventDefault(),e.stopPropagation())},onFocus(e){this.$emit("focus",e)},onBlur(e){this.$emit("blur",e),"tooltip"===this.actionsMenuSemanticType&&this.$refs.menu&&0===this.getFocusableMenuItemElements().length&&this.closeMenu(!1)},onClick(e){this.$emit("click",e)}},render(e){const t=(this.$slots.default||[]).filter((e=>this.getActionName(e)));if(0===t.length)return;let n=t.filter(this.isValidSingleAction);this.forceMenu&&n.length>0&&this.inline>0&&(l.Ay.util.warn("Specifying forceMenu will ignore any inline actions rendering."),n=[]);const o=n.slice(0,this.inline),i=t.filter((e=>!o.includes(e)));if(this.forceSemanticType)this.actionsMenuSemanticType=this.forceSemanticType;else{const e=["NcActionInput","NcActionTextEditable"],n=["NcActionButton","NcActionButtonGroup","NcActionCheckbox","NcActionRadio"],o=["NcActionLink","NcActionRouter"],r=i.some((t=>e.includes(this.getActionName(t)))),a=i.some((e=>n.includes(this.getActionName(e)))),s=i.some((e=>o.includes(this.getActionName(e))));r?this.actionsMenuSemanticType="dialog":a?this.actionsMenuSemanticType="menu":s?this.actionsMenuSemanticType="expanded":t.filter((e=>this.getActionName(e).startsWith("NcAction"))).length===t.length?this.actionsMenuSemanticType="tooltip":this.actionsMenuSemanticType="unknown"}const r=t=>{var n,o,i,r,a,s,l,u,c,d,p,f,h,v,m,g,b,y,w,A,N,S,T,E,k,F,x,I,O,P;const C=null==(o=null==(n=null==t?void 0:t.componentOptions)?void 0:n.propsData)?void 0:o.icon,R=null!=(s=null==(a=null==(r=null==(i=null==t?void 0:t.data)?void 0:i.scopedSlots)?void 0:r.icon())?void 0:a[0])?s:this.isIconUrl(C)?e("img",{class:"action-item__menutoggle__icon",attrs:{src:C,alt:""}}):e("span",{class:["icon",C]}),D=(null==(l=null==t?void 0:t.data)?void 0:l.attrs)||{},M=null==(c=null==(u=null==t?void 0:t.componentOptions)?void 0:u.listeners)?void 0:c.click,B=null==(v=null==(h=null==(f=null==(p=null==(d=null==t?void 0:t.componentOptions)?void 0:d.children)?void 0:p[0])?void 0:f.text)?void 0:h.trim)?void 0:v.call(h),$=(null==(g=null==(m=null==t?void 0:t.componentOptions)?void 0:m.propsData)?void 0:g.ariaLabel)||B,_=this.forceName?B:"";let L=null==(y=null==(b=null==t?void 0:t.componentOptions)?void 0:b.propsData)?void 0:y.title;this.forceName||L||(L=B);const G={...null!=(A=null==(w=null==t?void 0:t.componentOptions)?void 0:w.propsData)?A:{}},K=["submit","reset"].includes(G.type)?G.modelValue:"button";return delete G.modelValue,delete G.type,e("NcButton",{class:["action-item action-item--single",null==(N=null==t?void 0:t.data)?void 0:N.staticClass,null==(S=null==t?void 0:t.data)?void 0:S.class],attrs:{...D,"aria-label":$,title:L},ref:null==(T=null==t?void 0:t.data)?void 0:T.ref,props:{type:this.type||(_?"secondary":"tertiary"),disabled:this.disabled||(null==(k=null==(E=null==t?void 0:t.componentOptions)?void 0:E.propsData)?void 0:k.disabled),pressed:null==(x=null==(F=null==t?void 0:t.componentOptions)?void 0:F.propsData)?void 0:x.modelValue,nativeType:K,...G},on:{focus:this.onFocus,blur:this.onBlur,"update:pressed":null!=(P=null==(O=null==(I=null==t?void 0:t.componentOptions)?void 0:I.listeners)?void 0:O["update:modelValue"])?P:()=>{},...!!M&&{click:e=>{M&&M(e)}}}},[e("template",{slot:"icon"},[R]),_])},a=t=>{var n,o;const i=(null==(n=this.$slots.icon)?void 0:n[0])||(this.defaultIcon?e("span",{class:["icon",this.defaultIcon]}):e("DotsHorizontal",{props:{size:20}}));return e("NcPopover",{ref:"popover",props:{delay:0,handleResize:!0,shown:this.opened,placement:this.placement,boundary:this.boundariesElement,container:this.container,popoverBaseClass:"action-item__popper",popupRole:this.config.popupRole,setReturnFocus:this.config.withFocusTrap?null==(o=this.$refs.menuButton)?void 0:o.$el:null,focusTrap:this.config.withFocusTrap},attrs:{delay:0,handleResize:!0,shown:this.opened,placement:this.placement,boundary:this.boundariesElement,container:this.container,...this.manualOpen&&{triggers:[]}},on:{show:this.openMenu,"apply-show":this.onOpen,hide:this.closeMenu}},[e("NcButton",{class:"action-item__menutoggle",props:{type:this.triggerBtnType,disabled:this.disabled},slot:"trigger",ref:"menuButton",attrs:{id:this.triggerRandomId,"aria-label":this.menuName?null:this.ariaLabel,...this.config.triggerA11yAttr},on:{focus:this.onFocus,blur:this.onBlur,click:this.onClick,keydown:this.onTriggerKeydown}},[e("template",{slot:"icon"},[i]),this.menuName]),e("div",{class:{open:this.opened},attrs:{tabindex:"-1",...this.config.popoverContainerA11yAttrs},on:{keydown:this.onKeydown,mousemove:this.onMouseFocusAction},ref:"menu"},[e("ul",{attrs:{tabindex:"-1",...this.config.popoverUlA11yAttrs},ref:"menuList"},[t])])])};return 1!==t.length||1!==n.length||this.forceMenu?(this.$nextTick((()=>{this.opened&&this.$refs.menu&&(this.resizePopover(),0===(this.$refs.menu.querySelector("li.active")||[]).length&&this.focusFirstAction())})),o.length>0&&this.inline>0?e("div",{class:["action-items","action-item--".concat(this.triggerBtnType)]},[...o.map(r),i.length>0?e("div",{class:["action-item",{"action-item--open":this.opened}]},[a(i)]):null]):e("div",{class:["action-item action-item--default-popover","action-item--".concat(this.triggerBtnType),{"action-item--open":this.opened}]},[a(t)])):r(t[0])}},f=(0,c.n)(p,null,null,!1,null,"482dabc2",null,null).exports},77991:(e,t,n)=>{"use strict";n.d(t,{N:()=>f}),n(46099);var o=n(62893),i=n(2508),r=n(2078),a=n(43483),s=n(85156);const l=(0,o.pM)({name:"NcPopoverTriggerProvider",provide(){return{"NcPopover:trigger:shown":()=>this.shown,"NcPopover:trigger:attrs":()=>this.triggerAttrs}},props:{shown:{type:Boolean,required:!0},popupRole:{type:String,default:void 0}},computed:{triggerAttrs(){return{"aria-haspopup":this.popupRole,"aria-expanded":this.shown.toString()}}},render(){var e,t;return null==(t=(e=this.$scopedSlots).default)?void 0:t.call(e,{attrs:this.triggerAttrs})}}),u=(0,s.n)(l,null,null,!1,null,null,null,null).exports,c={name:"NcPopover",components:{Dropdown:i.ms,NcPopoverTriggerProvider:u},inheritAttrs:!1,props:{shown:{type:Boolean,default:!1},popupRole:{type:String,default:void 0,validator:e=>["menu","listbox","tree","grid","dialog","true"].includes(e)},popoverBaseClass:{type:String,default:""},focusTrap:{type:Boolean,default:!0},setReturnFocus:{default:void 0,type:[HTMLElement,SVGElement,String,Boolean]}},emits:["after-show","after-hide","update:shown"],data(){return{internalShown:this.shown}},watch:{shown(e){this.internalShown=e},internalShown(e){this.$emit("update:shown",e)}},mounted(){this.checkTriggerA11y()},beforeDestroy(){this.clearFocusTrap(),this.clearEscapeStopPropagation()},methods:{checkTriggerA11y(){var e;(null==(e=window.OC)?void 0:e.debug)&&(this.getPopoverTriggerContainerElement().querySelector("[aria-expanded]")||o.Ay.util.warn("It looks like you are using a custom button as a <NcPopover> or other popover #trigger. If you are not using <NcButton> as a trigger, you need to bind attrs from the #trigger slot props to your custom button. See <NcPopover> docs for an example."))},removeFloatingVueAriaDescribedBy(){const e=this.getPopoverTriggerContainerElement().querySelectorAll("[data-popper-shown]");for(const t of e)t.removeAttribute("aria-describedby")},getPopoverContentElement(){var e,t;return null==(t=null==(e=this.$refs.popover)?void 0:e.$refs.popperContent)?void 0:t.$el},getPopoverTriggerContainerElement(){return this.$refs.popover.$refs.reference},async useFocusTrap(){if(await this.$nextTick(),!this.focusTrap)return;const e=this.getPopoverContentElement();e&&(this.$focusTrap=(0,r.K)(e,{escapeDeactivates:!1,allowOutsideClick:!0,setReturnFocus:this.setReturnFocus,trapStack:(0,a.g)()}),this.$focusTrap.activate())},clearFocusTrap(e={}){var t;try{null==(t=this.$focusTrap)||t.deactivate(e),this.$focusTrap=null}catch(e){console.warn(e)}},addEscapeStopPropagation(){const e=this.getPopoverContentElement();null==e||e.addEventListener("keydown",this.stopKeydownEscapeHandler)},clearEscapeStopPropagation(){const e=this.getPopoverContentElement();null==e||e.removeEventListener("keydown",this.stopKeydownEscapeHandler)},stopKeydownEscapeHandler(e){"keydown"===e.type&&"Escape"===e.key&&e.stopPropagation()},afterShow(){this.removeFloatingVueAriaDescribedBy(),this.$nextTick((()=>{this.$emit("after-show"),this.useFocusTrap(),this.addEscapeStopPropagation()}))},afterHide(){this.$emit("after-hide"),this.clearFocusTrap(),this.clearEscapeStopPropagation()}}};var d=function(){var e=this,t=e._self._c;return t("Dropdown",e._g(e._b({ref:"popover",attrs:{distance:10,"arrow-padding":10,"no-auto-focus":!0,"popper-class":e.popoverBaseClass,shown:e.internalShown},on:{"update:shown":function(t){e.internalShown=t},"apply-show":e.afterShow,"apply-hide":e.afterHide},scopedSlots:e._u([{key:"popper",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},"Dropdown",e.$attrs,!1),e.$listeners),[t("NcPopoverTriggerProvider",{attrs:{shown:e.internalShown,"popup-role":e.popupRole},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("trigger",null,null,t)]}}],null,!0)})],1)},p=[];const f=(0,s.n)(c,d,p,!1,null,null,null,null).exports},43483:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});const o=function(){return Object.assign(window,{_nc_focus_trap:window._nc_focus_trap||[]}),window._nc_focus_trap}}}]);