/*! For license information please see SettingsSection.025e535606f5cfa65c26.js.LICENSE.txt */
(self.webpackChunkncpasswords=self.webpackChunkncpasswords||[]).push([[6701,2551],{2313:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a});const a={}},41180:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a});const a={}},31533:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a});const a={}},49022:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>N});var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app-content"}},[e("div",{staticClass:"app-content-left settings"},[e("breadcrumb",{attrs:{"show-add-new":!1,"actions-on-right":!0}},[e("div",{staticClass:"settings-level"},[e("nc-checkbox-radio-switch",{attrs:{checked:t.advanced},on:{"update:checked":function(e){t.advanced=e}}},[t._v("\n                    "+t._s(t.t("ExpertSettingsLabel"))+"\n                ")]),t._v(" "),e("nc-button",{attrs:{to:{name:"Help",params:{page:"Settings"}},title:t.t("Open the settings page in the handbook"),"aria-label":t.t("Handbook")}},[e("help-circle-icon",{attrs:{slot:"icon"},slot:"icon"})],1)],1)]),t._v(" "),e("div",{staticClass:"settings-container",class:{advanced:t.advanced}},[e("section",{staticClass:"security"},[e("translate",{attrs:{tag:"h1",say:"Security"}}),t._v(" "),e("translate",{attrs:{tag:"h3",say:"Password Rules"}}),t._v(" "),t.showDuplicateSetting?e("translate",{attrs:{tag:"label",for:"setting-check-duplicates",say:"Mark duplicates"}}):t._e(),t._v(" "),t.showDuplicateSetting?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.password.security.duplicates"],expression:"settings['user.password.security.duplicates']"}],attrs:{type:"checkbox",id:"setting-check-duplicates"},domProps:{checked:Array.isArray(t.settings["user.password.security.duplicates"])?t._i(t.settings["user.password.security.duplicates"],null)>-1:t.settings["user.password.security.duplicates"]},on:{change:function(e){var s=t.settings["user.password.security.duplicates"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.password.security.duplicates",s.concat([null])):r>-1&&t.$set(t.settings,"user.password.security.duplicates",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.password.security.duplicates",n)}}}):t._e(),t._v(" "),t.showDuplicateSetting?e("settings-help",{attrs:{text:"Mark passwords as weak if they are being used for multiple accounts"}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-check-age",say:"Maximum age in days"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.password.security.age"],expression:"settings['user.password.security.age']"}],attrs:{type:"number",min:"0",id:"setting-check-age"},domProps:{value:t.settings["user.password.security.age"]},on:{input:function(e){e.target.composing||t.$set(t.settings,"user.password.security.age",e.target.value)}}}),t._v(" "),e("settings-help",{attrs:{text:"Mark passwords as weak if they surpass the specified amount of days"}}),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-hash-length",say:"Security Check Hash"}}):t._e(),t._v(" "),t.advanced?e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.settings["user.password.security.hash"],expression:"settings['user.password.security.hash']",modifiers:{number:!0}}],attrs:{id:"setting-hash-length"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.settings,"user.password.security.hash",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"0",say:"Don't store hashes"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"20",say:"Store 50% of the hash"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"30",say:"Store 75% of the hash"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"40",say:"Store the full hash"}})],1):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"The SHA-1 hash is used to check for breached passwords. A partial hash can prevent brute force attacks in case the server is hacked but may also cause safe passwords to be mistakenly reported as breached."}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"h3",say:"Password Generator"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-security-level",say:"Password strength"}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.settings["user.password.generator.strength"],expression:"settings['user.password.generator.strength']",modifiers:{number:!0}}],attrs:{id:"setting-security-level"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.settings,"user.password.generator.strength",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("4")])]),t._v(" "),e("settings-help",{attrs:{text:"A higher strength results in longer, more complex passwords"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-include-numbers",say:"Include numbers"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.password.generator.numbers"],expression:"settings['user.password.generator.numbers']"}],attrs:{type:"checkbox",id:"setting-include-numbers"},domProps:{checked:Array.isArray(t.settings["user.password.generator.numbers"])?t._i(t.settings["user.password.generator.numbers"],null)>-1:t.settings["user.password.generator.numbers"]},on:{change:function(e){var s=t.settings["user.password.generator.numbers"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.password.generator.numbers",s.concat([null])):r>-1&&t.$set(t.settings,"user.password.generator.numbers",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.password.generator.numbers",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Add numbers to generated passwords"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-include-special",say:"Include special characters"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.password.generator.special"],expression:"settings['user.password.generator.special']"}],attrs:{type:"checkbox",id:"setting-include-special"},domProps:{checked:Array.isArray(t.settings["user.password.generator.special"])?t._i(t.settings["user.password.generator.special"],null)>-1:t.settings["user.password.generator.special"]},on:{change:function(e){var s=t.settings["user.password.generator.special"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.password.generator.special",s.concat([null])):r>-1&&t.$set(t.settings,"user.password.generator.special",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.password.generator.special",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Add special characters to generated passwords"}}),t._v(" "),t.hasEncryption?e("translate",{attrs:{tag:"h3",say:"Login & Session"}}):t._e(),t._v(" "),t.hasEncryption?e("translate",{attrs:{tag:"label",for:"setting-session-keepalive",say:"Keep me logged in"}}):t._e(),t._v(" "),t.hasEncryption?e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.settings["client.session.keepalive"],expression:"settings['client.session.keepalive']",modifiers:{number:!0}}],attrs:{id:"setting-session-keepalive"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.settings,"client.session.keepalive",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"0",say:"Always"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"1",say:"When i'm active"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"2",say:"When i'm working"}})],1):t._e(),t._v(" "),t.hasEncryption?e("settings-help",{attrs:{text:"Send keep-alive requests to the server to prevent the session from being cancelled"}}):t._e(),t._v(" "),t.advanced&&t.hasEncryption?e("translate",{attrs:{tag:"label",for:"setting-session-lifetime",say:"End session after"}}):t._e(),t._v(" "),t.advanced&&t.hasEncryption?e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.settings["user.session.lifetime"],expression:"settings['user.session.lifetime']",modifiers:{number:!0}}],attrs:{id:"setting-session-lifetime"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.settings,"user.session.lifetime",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",say:"One minute",value:"60"}}),t._v(" "),e("translate",{attrs:{tag:"option",say:"{minutes} minutes",variables:{minutes:2},value:"120"}}),t._v(" "),e("translate",{attrs:{tag:"option",say:"{minutes} minutes",variables:{minutes:5},value:"300"}}),t._v(" "),e("translate",{attrs:{tag:"option",say:"{minutes} minutes",variables:{minutes:10},value:"600"}}),t._v(" "),e("translate",{attrs:{tag:"option",say:"{minutes} minutes",variables:{minutes:30},value:"1800"}}),t._v(" "),e("translate",{attrs:{tag:"option",say:"{minutes} minutes",variables:{minutes:60},value:"3600"}})],1):t._e(),t._v(" "),t.advanced&&t.hasEncryption?e("settings-help",{attrs:{text:"Specify the amount of time after a request before the session is cancelled"}}):t._e(),t._v(" "),t.hasEncryption?e("translate",{attrs:{tag:"h3",say:"Encryption"}}):t._e(),t._v(" "),t.hasEncryption&&t.advanced?e("translate",{attrs:{tag:"label",for:"setting-encryption-sse",say:"Server encryption mode"}}):t._e(),t._v(" "),t.hasEncryption&&t.advanced?e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.settings["user.encryption.sse"],expression:"settings['user.encryption.sse']",modifiers:{number:!0}}],attrs:{id:"setting-encryption-sse"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.settings,"user.encryption.sse",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"0",say:"None if CSE used"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"1",say:"Simple encryption"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"2",say:"Advanced encryption"}})],1):t._e(),t._v(" "),t.hasEncryption&&t.advanced?e("settings-help",{attrs:{text:"Choose the type of encryption used to encrypt data on the server"}}):t._e(),t._v(" "),t.hasEncryption&&t.advanced?e("translate",{attrs:{tag:"label",for:"setting-encryption-cse",say:"Client encryption mode"}}):t._e(),t._v(" "),t.hasEncryption&&t.advanced?e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.settings["user.encryption.cse"],expression:"settings['user.encryption.cse']",modifiers:{number:!0}}],attrs:{id:"setting-encryption-cse"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.$set(t.settings,"user.encryption.cse",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"0",say:"No encryption"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"1",say:"Libsodium"}})],1):t._e(),t._v(" "),t.hasEncryption&&t.advanced?e("settings-help",{attrs:{text:"Choose the type of encryption used to encrypt data on the client before it's sent to the server"}}):t._e(),t._v(" "),t.hasEncryption?t._e():e("translate",{attrs:{tag:"label",for:"setting-encryption-setup",say:"End-to-end Encryption"}}),t._v(" "),t.hasEncryption?t._e():e("translate",{attrs:{tag:"input",type:"button",id:"setting-encryption-setup","localized-value":"Enable"},on:{click:function(e){return t.runWizard()}}}),t._v(" "),t.hasEncryption?t._e():e("settings-help",{attrs:{text:"Run the installation wizard to set up encryption for your passwords"}}),t._v(" "),t.hasEncryption?e("translate",{attrs:{tag:"label",for:"setting-encryption-update",say:"End-to-end Encryption"}}):t._e(),t._v(" "),t.hasEncryption?e("translate",{attrs:{tag:"input",type:"button",id:"setting-encryption-update","localized-value":"Change Password"},on:{click:function(e){return t.changeCsePassword()}}}):t._e(),t._v(" "),t.hasEncryption?e("settings-help",{attrs:{text:"Change the encryption password"}}):t._e(),t._v(" "),t.hasEncryption&&t.hasWebAuthn?e("translate",{attrs:{tag:"label",for:"encryption-webauthn-enable",say:"SettingsWebAuthnEnable"}}):t._e(),t._v(" "),t.hasEncryption&&t.hasWebAuthn?e("translate",{attrs:{tag:"input",type:"button",id:"encryption-webauthn-enable","localized-value":t.webAuthnButtonLabel},on:{click:t.installWebAuthn}}):t._e(),t._v(" "),t.hasEncryption&&t.hasWebAuthn?e("settings-help",{attrs:{text:"SettingsWebAuthnEnableHelp"}}):t._e()],1),t._v(" "),e("section",{staticClass:"ui"},[e("translate",{attrs:{tag:"h1",say:"User Interface"}}),t._v(" "),e("translate",{attrs:{tag:"h3",say:"General"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-section-default",say:"Initial section"}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.section.default"],expression:"settings['client.ui.section.default']"}],attrs:{id:"setting-section-default"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.section.default",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"all",say:"All Passwords"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"favorites",say:"Favorites"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"folders",say:"Folders"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"tags",say:"Tags"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"recent",say:"Recent"}})],1),t._v(" "),e("settings-help",{attrs:{text:"The initial section to be shown when the app is opened"}}),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-password-hidden",say:"Show hidden custom fields"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.custom.fields.show.hidden"],expression:"settings['client.ui.custom.fields.show.hidden']"}],attrs:{type:"checkbox",id:"setting-password-hidden"},domProps:{checked:Array.isArray(t.settings["client.ui.custom.fields.show.hidden"])?t._i(t.settings["client.ui.custom.fields.show.hidden"],null)>-1:t.settings["client.ui.custom.fields.show.hidden"]},on:{change:function(e){var s=t.settings["client.ui.custom.fields.show.hidden"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.ui.custom.fields.show.hidden",s.concat([null])):r>-1&&t.$set(t.settings,"client.ui.custom.fields.show.hidden",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.ui.custom.fields.show.hidden",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Show hidden custom fields in the edit form and detail section of a password"}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"h3",say:"Passwords List View"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-password-title",say:"Set title from"}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.field.title"],expression:"settings['client.ui.password.field.title']"}],attrs:{id:"setting-password-title"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.password.field.title",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"label",say:"Name"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"website",say:"Website"}})],1),t._v(" "),e("settings-help",{attrs:{text:"Show the selected property as title in the list view"}}),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-password-sorting",say:"Sort by"}}):t._e(),t._v(" "),t.advanced?e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.field.sorting"],expression:"settings['client.ui.password.field.sorting']"}],attrs:{id:"setting-password-sorting"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.password.field.sorting",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"byTitle",say:"Title field"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"label",say:"Name"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"website",say:"Website"}})],1):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Sorts passwords by the selected property when sorting by name is selected"}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-password-click",say:"Single click action"}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.click.action"],expression:"settings['client.ui.password.click.action']"}],attrs:{id:"setting-password-click"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.password.click.action",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"password",say:"Copy password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"username",say:"Copy username"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"url",say:"Copy website"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"details",say:"Show details"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"edit",say:"Edit password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"none",say:"Nothing"}})],1),t._v(" "),e("settings-help",{attrs:{text:"Action to perform when clicking on a password in the list view"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-password-dblClick",say:"Double click action"}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.dblClick.action"],expression:"settings['client.ui.password.dblClick.action']"}],attrs:{id:"setting-password-dblClick"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.password.dblClick.action",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"password",say:"Copy password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"username",say:"Copy username"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"url",say:"Copy website"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"details",say:"Show details"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"edit",say:"Edit password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"open-url",say:"Open Url"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"none",say:"Nothing"}})],1),t._v(" "),e("settings-help",{attrs:{text:"Action to perform when double clicking on a password in the list view"}}),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-password-wheel",say:"SettingsMouseWheelAction"}}):t._e(),t._v(" "),t.advanced?e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.wheel.action"],expression:"settings['client.ui.password.wheel.action']"}],attrs:{id:"setting-password-wheel"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.password.wheel.action",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"password",say:"Copy password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"username",say:"Copy username"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"url",say:"Copy website"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"details",say:"Show details"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"edit",say:"Edit password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"open-url",say:"Open Url"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"none",say:"Nothing"}})],1):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"SettingsMouseWheelActionHelp"}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-password-custom-action",say:"SettingsCustomAction"}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.custom.action"],expression:"settings['client.ui.password.custom.action']"}],attrs:{id:"setting-password-custom-action"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"client.ui.password.custom.action",e.target.multiple?s:s[0])}}},[e("translate",{attrs:{tag:"option",value:"details",say:"Show details"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"share",say:"SettingsShowShareTab"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"edit",say:"Edit password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"password",say:"Copy password"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"username",say:"Copy username"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"url",say:"Copy website"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"open-url",say:"Open Url"}}),t._v(" "),e("translate",{attrs:{tag:"option",value:"qrcode",say:"PasswordActionQrcode"}}),t._v(" "),t.settings["client.ui.password.print"]?e("translate",{attrs:{tag:"option",value:"print",say:"PasswordActionPrint"}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"option",value:"none",say:"Nothing"}})],1),t._v(" "),e("settings-help",{attrs:{text:"SettingsCustomActionHelp"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-password-menu",say:"Add copy options in menu"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.menu.copy"],expression:"settings['client.ui.password.menu.copy']"}],attrs:{type:"checkbox",id:"setting-password-menu"},domProps:{checked:Array.isArray(t.settings["client.ui.password.menu.copy"])?t._i(t.settings["client.ui.password.menu.copy"],null)>-1:t.settings["client.ui.password.menu.copy"]},on:{change:function(e){var s=t.settings["client.ui.password.menu.copy"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.ui.password.menu.copy",s.concat([null])):r>-1&&t.$set(t.settings,"client.ui.password.menu.copy",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.ui.password.menu.copy",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Shows options to copy the password and user name in the menu"}}),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-password-print",say:"SettingsPasswordPrint"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.print"],expression:"settings['client.ui.password.print']"}],attrs:{type:"checkbox",id:"setting-password-print"},domProps:{checked:Array.isArray(t.settings["client.ui.password.print"])?t._i(t.settings["client.ui.password.print"],null)>-1:t.settings["client.ui.password.print"]},on:{change:function(e){var s=t.settings["client.ui.password.print"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.ui.password.print",s.concat([null])):r>-1&&t.$set(t.settings,"client.ui.password.print",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.ui.password.print",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"SettingsPasswordPrintHelp"}}):t._e(),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-password-username",say:"Show username in list view"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.user.show"],expression:"settings['client.ui.password.user.show']"}],attrs:{type:"checkbox",id:"setting-password-username"},domProps:{checked:Array.isArray(t.settings["client.ui.password.user.show"])?t._i(t.settings["client.ui.password.user.show"],null)>-1:t.settings["client.ui.password.user.show"]},on:{change:function(e){var s=t.settings["client.ui.password.user.show"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.ui.password.user.show",s.concat([null])):r>-1&&t.$set(t.settings,"client.ui.password.user.show",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.ui.password.user.show",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Always show the username related to the password in the list view"}}):t._e(),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-password-tags",say:"Show tags in list view"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.list.tags.show"],expression:"settings['client.ui.list.tags.show']"}],attrs:{type:"checkbox",id:"setting-password-tags"},domProps:{checked:Array.isArray(t.settings["client.ui.list.tags.show"])?t._i(t.settings["client.ui.list.tags.show"],null)>-1:t.settings["client.ui.list.tags.show"]},on:{change:function(e){var s=t.settings["client.ui.list.tags.show"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.ui.list.tags.show",s.concat([null])):r>-1&&t.$set(t.settings,"client.ui.list.tags.show",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.ui.list.tags.show",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Show the tags for each password in the list view. Increases loading times"}}),t._v(" "),e("translate",{attrs:{tag:"h3",say:"Passwords Detail View"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-website-preview",say:"Show website preview"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.ui.password.details.preview"],expression:"settings['client.ui.password.details.preview']"}],attrs:{type:"checkbox",id:"setting-website-preview"},domProps:{checked:Array.isArray(t.settings["client.ui.password.details.preview"])?t._i(t.settings["client.ui.password.details.preview"],null)>-1:t.settings["client.ui.password.details.preview"]},on:{change:function(e){var s=t.settings["client.ui.password.details.preview"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.ui.password.details.preview",s.concat([null])):r>-1&&t.$set(t.settings,"client.ui.password.details.preview",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.ui.password.details.preview",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Show a preview of the associated website in the details. (Not on mobiles)"}}),t._v(" "),t.hasSharing?e("translate",{attrs:{tag:"h3",say:"Password Sharing"}}):t._e(),t._v(" "),t.hasSharing?e("translate",{attrs:{tag:"label",for:"setting-sharing-editable",say:"Share as editable by default"}}):t._e(),t._v(" "),t.hasSharing?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.sharing.editable"],expression:"settings['user.sharing.editable']"}],attrs:{type:"checkbox",id:"setting-sharing-editable"},domProps:{checked:Array.isArray(t.settings["user.sharing.editable"])?t._i(t.settings["user.sharing.editable"],null)>-1:t.settings["user.sharing.editable"]},on:{change:function(e){var s=t.settings["user.sharing.editable"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.sharing.editable",s.concat([null])):r>-1&&t.$set(t.settings,"user.sharing.editable",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.sharing.editable",n)}}}):t._e(),t._v(" "),t.hasSharing?e("settings-help",{attrs:{text:"Enable the option to let other users edit a shared password by default"}}):t._e(),t._v(" "),t.hasSharing&&t.hasResharing?e("translate",{attrs:{tag:"label",for:"setting-sharing-shareable",say:"Allow sharing by default"}}):t._e(),t._v(" "),t.hasSharing&&t.hasResharing?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.sharing.resharing"],expression:"settings['user.sharing.resharing']"}],attrs:{type:"checkbox",id:"setting-sharing-shareable"},domProps:{checked:Array.isArray(t.settings["user.sharing.resharing"])?t._i(t.settings["user.sharing.resharing"],null)>-1:t.settings["user.sharing.resharing"]},on:{change:function(e){var s=t.settings["user.sharing.resharing"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.sharing.resharing",s.concat([null])):r>-1&&t.$set(t.settings,"user.sharing.resharing",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.sharing.resharing",n)}}}):t._e(),t._v(" "),t.hasSharing&&t.hasResharing?e("settings-help",{attrs:{text:"Enable the option to let other users share a shared password by default"}}):t._e(),t._v(" "),t.advanced?e("translate",{attrs:{tag:"h3",say:"Search"}}):t._e(),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-search-live",say:"Search as i type"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.search.live"],expression:"settings['client.search.live']"}],attrs:{type:"checkbox",id:"setting-search-live"},domProps:{checked:Array.isArray(t.settings["client.search.live"])?t._i(t.settings["client.search.live"],null)>-1:t.settings["client.search.live"]},on:{change:function(e){var s=t.settings["client.search.live"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.search.live",s.concat([null])):r>-1&&t.$set(t.settings,"client.search.live",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.search.live",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Start search when a key is pressed anywhere on the page"}}):t._e(),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-search-global",say:"Search everywhere with Enter"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.search.global"],expression:"settings['client.search.global']"}],attrs:{type:"checkbox",id:"setting-search-global"},domProps:{checked:Array.isArray(t.settings["client.search.global"])?t._i(t.settings["client.search.global"],null)>-1:t.settings["client.search.global"]},on:{change:function(e){var s=t.settings["client.search.global"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.search.global",s.concat([null])):r>-1&&t.$set(t.settings,"client.search.global",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.search.global",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Search everywhere when the enter key is pressed in the search box"}}):t._e(),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-search-show",say:"Always show search section"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["client.search.show"],expression:"settings['client.search.show']"}],attrs:{type:"checkbox",id:"setting-search-show"},domProps:{checked:Array.isArray(t.settings["client.search.show"])?t._i(t.settings["client.search.show"],null)>-1:t.settings["client.search.show"]},on:{change:function(e){var s=t.settings["client.search.show"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"client.search.show",s.concat([null])):r>-1&&t.$set(t.settings,"client.search.show",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"client.search.show",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Always show the section for global search in the navigation"}}):t._e()],1),t._v(" "),e("section",{staticClass:"notifications"},[e("translate",{attrs:{tag:"h1",say:"Notifications"}}),t._v(" "),e("translate",{attrs:{tag:"h3",say:"Send Emails for"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-mail-security",say:"Security issues"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.mail.security"],expression:"settings['user.mail.security']"}],attrs:{type:"checkbox",id:"setting-mail-security"},domProps:{checked:Array.isArray(t.settings["user.mail.security"])?t._i(t.settings["user.mail.security"],null)>-1:t.settings["user.mail.security"]},on:{change:function(e){var s=t.settings["user.mail.security"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.mail.security",s.concat([null])):r>-1&&t.$set(t.settings,"user.mail.security",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.mail.security",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Sends you e-mails about compromised passwords and other security issues"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-mail-shares",say:"Passwords shared with me"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.mail.shares"],expression:"settings['user.mail.shares']"}],attrs:{type:"checkbox",id:"setting-mail-shares"},domProps:{checked:Array.isArray(t.settings["user.mail.shares"])?t._i(t.settings["user.mail.shares"],null)>-1:t.settings["user.mail.shares"]},on:{change:function(e){var s=t.settings["user.mail.shares"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.mail.shares",s.concat([null])):r>-1&&t.$set(t.settings,"user.mail.shares",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.mail.shares",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Sends you e-mails when other people share passwords with you"}}),t._v(" "),e("translate",{attrs:{tag:"h3",say:"Show Notifications for"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-notification-security",say:"Security issues"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.notification.security"],expression:"settings['user.notification.security']"}],attrs:{type:"checkbox",id:"setting-notification-security"},domProps:{checked:Array.isArray(t.settings["user.notification.security"])?t._i(t.settings["user.notification.security"],null)>-1:t.settings["user.notification.security"]},on:{change:function(e){var s=t.settings["user.notification.security"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.notification.security",s.concat([null])):r>-1&&t.$set(t.settings,"user.notification.security",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.notification.security",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Notifies you about compromised passwords and other security issues"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"setting-notification-sharing",say:"Passwords shared with me"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.notification.shares"],expression:"settings['user.notification.shares']"}],attrs:{type:"checkbox",id:"setting-notification-sharing"},domProps:{checked:Array.isArray(t.settings["user.notification.shares"])?t._i(t.settings["user.notification.shares"],null)>-1:t.settings["user.notification.shares"]},on:{change:function(e){var s=t.settings["user.notification.shares"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.notification.shares",s.concat([null])):r>-1&&t.$set(t.settings,"user.notification.shares",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.notification.shares",n)}}}),t._v(" "),e("settings-help",{attrs:{text:"Notifies you when other people share passwords with you"}}),t._v(" "),t.isAdmin?e("translate",{attrs:{tag:"label",for:"setting-notification-admin",say:"Administration Issues"}}):t._e(),t._v(" "),t.isAdmin?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.notification.admin"],expression:"settings['user.notification.admin']"}],attrs:{type:"checkbox",id:"setting-notification-admin"},domProps:{checked:Array.isArray(t.settings["user.notification.admin"])?t._i(t.settings["user.notification.admin"],null)>-1:t.settings["user.notification.admin"]},on:{change:function(e){var s=t.settings["user.notification.admin"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.notification.admin",s.concat([null])):r>-1&&t.$set(t.settings,"user.notification.admin",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.notification.admin",n)}}}):t._e(),t._v(" "),t.isAdmin?e("settings-help",{attrs:{text:"Notifies you of configuration errors and other administrative issues"}}):t._e(),t._v(" "),t.advanced?e("translate",{attrs:{tag:"label",for:"setting-notification-errors",say:"Other errors"}}):t._e(),t._v(" "),t.advanced?e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings["user.notification.errors"],expression:"settings['user.notification.errors']"}],attrs:{type:"checkbox",id:"setting-notification-errors"},domProps:{checked:Array.isArray(t.settings["user.notification.errors"])?t._i(t.settings["user.notification.errors"],null)>-1:t.settings["user.notification.errors"]},on:{change:function(e){var s=t.settings["user.notification.errors"],a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.settings,"user.notification.errors",s.concat([null])):r>-1&&t.$set(t.settings,"user.notification.errors",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.settings,"user.notification.errors",n)}}}):t._e(),t._v(" "),t.advanced?e("settings-help",{attrs:{text:"Notifies you when a background operation fails"}}):t._e()],1),t._v(" "),e("section",{staticClass:"danger"},[e("translate",{attrs:{tag:"h1",say:"Danger Zone"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"danger-reset",say:"SettingsRecoverItems"}}),t._v(" "),e("translate",{attrs:{tag:"input",type:"button",id:"danger-reset","localized-value":"SettingsRecoverItemsButton"},on:{click:t.recoverItemsAction}}),t._v(" "),e("settings-help",{attrs:{text:"SettingsRecoverItemsHelp"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"danger-reset",say:"Reset all settings"}}),t._v(" "),e("translate",{attrs:{tag:"input",type:"button",id:"danger-reset","localized-value":"Reset"},on:{click:t.resetSettingsAction}}),t._v(" "),e("settings-help",{attrs:{text:"Reset all settings on this page to their defaults"}}),t._v(" "),e("translate",{attrs:{tag:"label",for:"danger-purge",say:"Delete everything"}}),t._v(" "),e("translate",{attrs:{tag:"input",type:"button",id:"danger-purge","localized-value":"Delete"},on:{click:t.resetUserAccount}}),t._v(" "),e("settings-help",{attrs:{text:"Start over and delete all configuration, passwords, folders and tags"}})],1)])],1)])};a._withStripped=!0;var n=s(56423),r=s(59828),i=s(98498),o=s(21777),l=s(74095),c=s(23659),u=s(53024),d=s(68041),p=function(){var t=this,e=t._self._c;return e("nc-actions",[e("nc-action-text",{staticClass:"passwords-settings-help-text"},[t._v(t._s(t.t(t.text)))]),t._v(" "),e("help-circle-icon",{attrs:{slot:"icon"},slot:"icon"})],1)};p._withStripped=!0;var g=s(24764),h=s(79920);const v={components:{NcActions:g.default,NcActionText:h.A,HelpCircleIcon:c.default},props:{text:{type:String}}};s(92497);var y=s(14486);const w=(0,y.A)(v,p,[],!1,null,null,null).exports;var m=s(32073),_=s(33277),f=s(90512),b=s(69159),A=s(89843),k=s(45173),x=s(62319);class S{async run(){let t=await _.A.confirm("Do you want to delete all your settings, passwords, folders and tags?\nIt will NOT be possible to undo this.","DELETE EVERYTHING",!0);return t?await this._requestUserAccountReset():t}async _requestUserAccountReset(){try{let t=await n.A.resetUserAccount();if("accepted"===t.status){let e,s=['Enter "{code}" to reset your account and delete everything.',{code:t.code}];try{e=await _.A.prompt("Code","Account reset requested",s,null,null,!0)}catch(t){return!1}return await this._executeUserAccountReset(e)}this._showError(new Error("UserAccountResetInvalidStatus"))}catch(t){this._showError(t)}return!1}_showError(t){b.A.error(t),_.A.alert(t.message?t.message:"Invalid reset code")}async _executeUserAccountReset(t){try{if("ok"===(await n.A.resetUserAccount(t)).status)return window.localStorage.removeItem("pwFolderIcon"),location.href=location.href.replace(location.hash,""),!0;this._showError(new Error("UserAccountResetInvalidStatus"))}catch(t){this._showError(t)}return!1}}class P{async run(){let t=await _.A.confirm("This will reset all settings to their defaults. Do you want to continue?","Reset all settings",!0);return t&&await this._resetSettings(),t}async _resetSettings(){let t=A.A.getAll(),e=[];for(let s in t)t.hasOwnProperty(s)&&e.push(A.A.reset(s));await Promise.all(e)}}var E=s(99498);class ${async run(){let t;try{t=await this.showRecoverItemsDialog()}catch(t){return}try{let e=await this.sendRecoveryRequest(t);e.success||_.A.alert("RecoverItemsError"),await this.showResultDialog(e)}catch(t){b.A.error(t),_.A.alert(t.message?t.message:"RecoverItemsError")}}async showRecoverItemsDialog(){return _.A.form({passwordsInvisibleInFolder:{label:"RecoverItemsInvisiblePwd",type:"checkbox",title:"RecoverItemsInvisiblePwdTitle"},invisibleInTrash:{label:"RecoverItemsInvisibleTrash",type:"checkbox",title:"RecoverItemsInvisibleTrashTitle"},passwords:{label:"RecoverItemsPasswords",type:"checkbox",title:"RecoverItemsPasswordsTitle"},folders:{label:"RecoverItemsFolders",type:"checkbox",title:"RecoverItemsFoldersTitle"},tags:{label:"RecoverItemsTags",type:"checkbox",title:"RecoverItemsTagsTitle"}},"RecoverItemsSelectTitle","RecoverItemsSelectText","item-recovery-form")}async sendRecoveryRequest(t){let e=(0,E.Jv)("/apps/passwords/action/recover-hidden"),s=new Headers;s.append("Content-Type","application/json");let a={method:"POST",headers:s,credentials:"include",redirect:"error",body:JSON.stringify(t)},n=new Request(e,a),r=await fetch(n,a);return r.ok&&200===r.status?await r.json():{success:!1}}async showResultDialog(t){await _.A.alert(["RecoverItemsSuccessMessage",t],"RecoverItemsSuccessTitle")}}const C={components:{HelpCircleIcon:c.default,Breadcrumb:d.A,SettingsHelp:w,Translate:u.A,NcButton:l.default,NcCheckboxRadioSwitch:m.A},data(){let t=A.A.getAll(),e=e=>{t.hasOwnProperty(e.setting)&&t[e.setting]===e.value||(t[e.setting]=e.value)};return A.A.observe(Object.keys(t),e),{observer:e,settings:t,hasSharing:A.A.get("server.sharing.enabled"),hasResharing:A.A.get("server.sharing.resharing"),advanced:!0===A.A.get("client.settings.advanced"),hasEncryption:!0===n.A.hasEncryption,isAdmin:(0,o.HW)().isAdmin,nightly:!1,noSave:!1,locked:!1,hasWebAuthn:x.A.isWebauthnPasswordAvailable()}},computed:{showDuplicateSetting(){return this.settings["user.password.security.hash"]>0},webAuthnButtonLabel(){return this.settings["client.encryption.webauthn.enabled"]?"Disable":"Enable"}},beforeDestroy(){A.A.unobserve(Object.keys(this.settings),this.observer)},methods:{saveSettings(){if(!this.noSave)for(let t in this.settings){if(!this.settings.hasOwnProperty(t))continue;let e=this.settings[t];A.A.get(t)!==e&&A.A.set(t,e)}},runWizard(){this.hasEncryption||r.A.runEncryptionSetup().then((()=>{this.hasEncryption=n.A.hasEncryption}))},changeCsePassword(){this.hasEncryption&&i.A.updateGui()},async resetSettingsAction(){await this.runAction(new P,!1)&&(this.advanced=!1,this.settings=A.A.getAll()),this.$nextTick((()=>{this.noSave=!1}))},async resetUserAccount(){await this.runAction(new S)},async installWebAuthn(){this.settings["client.encryption.webauthn.enabled"]?await this.runAction(new k.A):await this.runAction(new x.A)},async recoverItemsAction(){await this.runAction(new $)},async runAction(t,e=!0){this.locked=!0,this.noSave=!0;try{return await t.run()}catch(t){b.A.error(t),_.A.alert(t&&t.hasOwnProperty("message")?t.message:"Error")}finally{this.locked=!1,e&&(this.noSave=!1)}}},watch:{settings:{handler(){this.saveSettings()},deep:!0},locked(t){t?f.A.lockApp():f.A.unlockApp()},advanced(t){this.noSave||A.A.set("client.settings.advanced",t)}}};s(38284);const N=(0,y.A)(C,a,[],!1,null,null,null).exports},84366:(t,e,s)=>{var a=s(2313);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,s(70534).A)("0193184c",a,!1,{})},92497:(t,e,s)=>{var a=s(41180);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,s(70534).A)("317524a6",a,!1,{})},38284:(t,e,s)=>{var a=s(31533);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals),(0,s(70534).A)("4a65d2ee",a,!1,{})},45173:(t,e,s)=>{"use strict";s.d(e,{A:()=>r});var a=s(89843),n=s(18221);class r{run(){a.A.set("client.encryption.webauthn.enabled",!1),n.A.info("WebAuthnLoginDisabled")}}},62319:(t,e,s)=>{"use strict";s.d(e,{A:()=>c});var a=s(33277),n=s(80444),r=s(89843),i=s(18221),o=s(21777),l=s(69159);class c{static isWebauthnPasswordAvailable(){return!!window.PasswordCredential}async run(t=null){if(c.isWebauthnPasswordAvailable()){null===t&&(t=(await this._showSetupDialog()).password);try{await this._storeEncryptionPassphrase(t),r.A.set("client.encryption.webauthn.enabled",!0),i.A.success("WebauthnLoginSetupSuccess")}catch(t){l.A.error(t)}}}async _storeEncryptionPassphrase(t){let e=n.A.translate("Passwords App Encryption Passphrase"),s=`${(0,o.HW)().uid}.passwordsapp@${location.host}`,a=r.A.get("server.theme.app.icon");const i=new PasswordCredential({id:s,password:t,name:e,iconURL:a});await navigator.credentials.store(i)}_showSetupDialog(){return a.A.form({password:{label:"WebauthnEncryptionPassphrase",type:"password",button:"toggle",minlength:12,required:!0,validator:(t,e)=>t!==e.oldPassword&&t.length>=12},repeatPassword:{label:"WebauthnEncryptionPassphraseRepeat",type:"password",button:"toggle",required:!0,validator:(t,e)=>t===e.password}},"WebauthnEncryptionSetupTitle","WebauthnEncryptionPassphraseText")}}},98498:(t,e,s)=>{"use strict";s.d(e,{A:()=>v});var a=s(56423),n=s(5460),r=s(41603),i=s(34413),o=s(90512),l=s(33277),c=s(69159),u=s(89843),d=s(80444),p=s(32981),g=s(61338),h=s(62319);const v=new class{constructor(){this._statusFunc=null,this.status=null}async install(t,e=!1,s=!1,a=null){if(await this.isPassphraseSecure(t)){if(this._resetStatus(a),await this._updateKeychain(t),!1!==s){let t={},e={};await Promise.all([this._encryptTags(t),this._encryptFolders(e)]),await this._encryptPasswords(e,t),await this._cleanDatabase(t,e)}e&&await this._saveMasterPassword(t),n.A.loginRequired=!0,(0,g.Ic)("passwords:encryption:installed",{})}}async update(t,e){try{if(!await this.isPassphraseSecure(t))return;await a.A.setAccountChallenge(t,e),await this._updateWebAuthn(t)}catch(t){throw t}}async updateGui(){let t;try{t=await l.A.form({password:{label:"New password",type:"password",button:"toggle",minlength:12,required:!0,title:"Your password must be longer than 12 characters and not the old password",validator:(t,e)=>t!==e.oldPassword&&t.length>=12},repeatPassword:{label:"Repeat password",type:"password",button:"toggle",required:!0,title:"Please confirm your new password",validator:(t,e)=>t===e.password},oldPassword:{label:"Old password",type:"password",button:"toggle",title:"You must enter your old password",required:!0,validator:t=>t.length>=12}},"Change Password","You can use this dialog to change your master password.")}catch(t){return!1}try{o.A.lockApp(),await this.update(t.password,t.oldPassword),o.A.unlockApp(),l.A.alert("Your password has been changed successfully.","Password changed")}catch(t){return o.A.unlockApp(),c.A.error(t),l.A.alert(t.message,"Changing password failed"),!1}return!0}async isPassphraseSecure(t){let e=!0;if(t.length<12)e=!1;else{let s=await i.A.getClient().getInstance("service.hash"),a=await s.getHash(t);e=-1===(await s.getBreachedHashes(a.substring(0,5))).indexOf(a)}return e||l.A.alert("CSENewPassphraseInsecureText","CSEPassphraseInsecureTitle").catch(c.A.catch),e}async _updateKeychain(t){this._sendStatus("keychain","processing",1);try{await a.A.setAccountChallenge(t),await Promise.all([await u.A.reset("user.encryption.cse"),await u.A.reset("user.encryption.sse")]),this._sendStatus("keychain","done")}catch(t){throw this._sendStatus("keychain","error",t),t}}async _encryptPasswords(t,e){this._sendStatus("passwords","loading");let s=await a.A.listPasswords("model+tags"),n=[];this._sendStatus("passwords","processing",Object.keys(s).length);for(let a in s){if(!s.hasOwnProperty(a))continue;let r=s[a];n.push(this._encryptPassword(r,t,e))}0!==n.length&&await Promise.all(n),this._sendStatus("passwords","done")}async _encryptPassword(t,e,s,n,r){t.folder=e[t.folder];let i=[];for(let e in t.tags)t.tags.hasOwnProperty(e)&&i.push(s[e]);if(t.tags=i,t.shared||null!==t.share)try{await a.A.updatePassword(t),c.A.success(`Updated password ${t.id}`),this._sendStatus("passwords")}catch(t){throw this._sendStatus("passwords","error",t),t}else{await this._deleteObject(t.id,"password"),t.cseType="CSEv1r1";try{await a.A.createPassword(t),c.A.success(`Encrypted password ${t.id}`),this._sendStatus("passwords")}catch(t){throw this._sendStatus("passwords","error",t),t}}}async _encryptTags(t){this._sendStatus("tags","loading");let e=await a.A.listTags(),s=[];this._sendStatus("tags","processing",Object.keys(e).length);for(let a in e)e.hasOwnProperty(a)&&(s.push(this._encryptTag(e[a],t)),s.length>10&&(await Promise.all(s),s=[]));return 0!==s.length&&await Promise.all(s),this._sendStatus("tags","done"),t}async _encryptTag(t,e){try{t.cseType="CSEv1r1";let s=await a.A.createTag(t);e[t.id]=s.id,this._sendStatus("tags"),c.A.success(`Encrypted tag ${t.id}`)}catch(t){throw this._sendStatus("tags","error",t),t}}async _encryptFolders(t){this._sendStatus("folders","loading");let e=await a.A.listFolders(),s=[];t["00000000-0000-0000-0000-000000000000"]="00000000-0000-0000-0000-000000000000",e=this._sortFoldersForUpgrade(e),this._sendStatus("folders","processing",Object.keys(e).length);for(let a of e)"00000000-0000-0000-0000-000000000000"!==a.id&&((!t.hasOwnProperty(a.parent)||s.length>10)&&(await Promise.all(s),s=[]),s.push(this._encryptFolder(a,t)));return await Promise.all(s),this._sendStatus("folders","done"),t}async _encryptFolder(t,e){try{t.parent=e[t.parent],t.cseType="CSEv1r1";let s=await a.A.createFolder(t);e[t.id]=s.id,this._sendStatus("folders"),c.A.success(`Encrypted folder ${t.id}`)}catch(t){throw this._sendStatus("folders","error",t),t}}_sortFoldersForUpgrade(t){let e=[],s=["00000000-0000-0000-0000-000000000000"];for(t=o.A.objectToArray(t);0!==t.length;)for(let a=0;a<t.length;a++){let n=t[a];-1!==s.indexOf(n.parent)&&(s.push(n.id),e.push(n),t.splice(a,1),a--)}return e}async _cleanDatabase(t,e){let s=Object.keys(t).length+Object.keys(e).length;this._sendStatus("cleanup","processing",s),r.A.ignoreApiErrors=!0,await Promise.all([this._deleteObjects(t,"tag"),this._deleteObjects(e,"folder")]),r.A.ignoreApiErrors=!1,this._sendStatus("cleanup","done")}async _deleteObjects(t,e){let s=[];for(let a in t)t.hasOwnProperty(a)&&"00000000-0000-0000-0000-000000000000"!==a&&(s.push(this._deleteObject(a,e)),s.length>10&&(await Promise.all(s),s=[]));0!==s.length&&await Promise.all(s)}async _deleteObject(t,e){let s="delete"+e.capitalize();try{await a.A[s](t),await a.A[s](t)}catch(t){t.hasOwnProperty("id")&&404===t.id||this._sendStatus("cleanup","error",t)}"password"!==e&&this._sendStatus("cleanup","processing")}async _saveMasterPassword(t){this._sendStatus("password","processing",1);let e=(0,p.C)("passwords","api-user",null),s=d.A.translate("Passwords App Encryption Passphrase"),n=d.A.translate("This is a copy of the passphrase you chose for encryption. Changing or deleting this entry does not affect the encryption. The passphrase can only be changed in the settings. More information can be found in the handbook."),r=location.href;try{await a.A.createPassword({username:e,password:t,label:s,url:r,notes:n}),this._sendStatus("password","done")}catch(t){this._sendStatus("password","error",t)}}_resetStatus(t){this._statusFunc=t,this.status={passwords:{status:"waiting",total:0,current:0,errors:[]},keychain:{status:"waiting",total:0,current:0,errors:[]},folders:{status:"waiting",total:0,current:0,errors:[]},cleanup:{status:"waiting",total:0,current:0,errors:[]},tags:{status:"waiting",total:0,current:0,errors:[]},save:{status:"waiting",total:0,current:0,errors:[]}}}_sendStatus(t,e="processing",s=null){if(null===this._statusFunc||!this.status.hasOwnProperty(t))return;let a=this.status[t];"processing"===e?(a.status="processing",null!==s?(a.total=s,a.current=0):a.current++):"loading"===e?a.status="loading":"done"===e?(a.status=0===a.errors.length?"success":"failed","success"===a.status&&(a.current=a.total)):"error"===e&&(c.A.error(s),a.errors.push(s),"cleanup"!==t&&(a.status="failed")),this._statusFunc(this.status)}async _updateWebAuthn(t){if(u.A.get("client.encryption.webauthn.enabled"))try{await h.A.run(t)}catch(t){c.A.error(t)}}}},21777:(t,e,s)=>{"use strict";s.d(e,{HW:()=>u,do:()=>i,zo:()=>o});var a=s(61338);let n;const r=[];function i(){if(void 0===n){const t=document?.getElementsByTagName("head")[0];n=t?t.getAttribute("data-requesttoken"):null}return n}function o(t){r.push(t)}let l;(0,a.B1)("csrf-token-update",(t=>{n=t.token,r.forEach((t=>{try{t(n)}catch(t){console.error("error updating CSRF token observer",t)}}))}));const c=(t,e)=>t?t.getAttribute(e):null;function u(){if(void 0!==l)return l;const t=document?.getElementsByTagName("head")[0];if(!t)return null;const e=c(t,"data-user");return null===e?(l=null,l):(l={uid:e,displayName:c(t,"data-user-displayname"),isAdmin:!!window._oc_isadmin},l)}},79920:(t,e,s)=>{"use strict";s.d(e,{A:()=>l}),s(84366);var a=s(5340),n=s(85156);const r={name:"NcActionText",mixins:[a.A],inject:{isInSemanticMenu:{from:"NcActions:isSemanticMenu",default:!1}}};var i=function(){var t=this,e=t._self._c;return e("li",{staticClass:"action",attrs:{role:t.isInSemanticMenu&&"presentation"}},[e("span",{staticClass:"action-text",on:{click:t.onClick}},[t._t("icon",(function(){return[""!==t.icon?e("span",{staticClass:"action-text__icon",class:[t.isIconUrl?"action-text__icon--url":t.icon],style:{backgroundImage:t.isIconUrl?"url(".concat(t.icon,")"):null},attrs:{"aria-hidden":"true"}}):t._e()]})),t.name?e("span",{staticClass:"action-text__longtext-wrapper"},[e("strong",{staticClass:"action-text__name"},[t._v(" "+t._s(t.name)+" ")]),e("br"),e("span",{staticClass:"action-text__longtext",domProps:{textContent:t._s(t.text)}})]):t.isLongText?e("span",{staticClass:"action-text__longtext",domProps:{textContent:t._s(t.text)}}):e("span",{staticClass:"action-text__text"},[t._v(t._s(t.text))]),t._e()],2)])},o=[];const l=(0,n.n)(r,i,o,!1,null,"824615f4",null,null).exports},24764:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a.N});var a=s(88497)},32073:(t,e,s)=>{"use strict";s.d(e,{A:()=>a.N});var a=s(9827)},16086:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a={beforeUpdate(){this.text=this.getText()},data(){return{text:this.getText()}},computed:{isLongText(){return this.text&&this.text.trim().length>20}},methods:{getText(){return this.$slots.default?this.$slots.default[0].text.trim():""}}}},5340:(t,e,s)=>{"use strict";s.d(e,{A:()=>a});const a={mixins:[s(16086).A],props:{icon:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:""},closeAfterClick:{type:Boolean,default:!1},ariaLabel:{type:String,default:null},ariaHidden:{type:Boolean,default:null}},emits:["click"],computed:{isIconUrl(){try{return!!new URL(this.icon,this.icon.startsWith("/")?window.location.origin:void 0)}catch(t){return!1}}},methods:{onClick(t){if(this.$emit("click",t),this.closeAfterClick){const t=function(t,e){let s=t.$parent;for(;s;){if("NcActions"===s.$options.name)return s;s=s.$parent}}(this);t&&t.closeMenu&&t.closeMenu(!1)}}}}}}]);