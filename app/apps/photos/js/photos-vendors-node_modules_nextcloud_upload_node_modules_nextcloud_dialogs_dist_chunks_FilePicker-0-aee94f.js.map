{"version":3,"file":"photos-vendors-node_modules_nextcloud_upload_node_modules_nextcloud_dialogs_dist_chunks_FilePicker-0-aee94f.js?v=cde5c5ade96c33b8b681","mappings":"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","sources":["webpack:///photos/node_modules/@nextcloud/upload/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-0bd54f66.mjs"],"sourcesContent":["import { ref as y, onMounted as R, computed as v, defineComponent as I, watch as te, onUnmounted as ue, nextTick as de, toRef as _e } from \"vue\";\nimport { FileType as V, formatFileSize as fe, davGetClient as pe, davResultToNode as M, davRootPath as D, getFavoriteNodes as ve, davGetRecentSearch as me, davGetDefaultPropfind as ge } from \"@nextcloud/files\";\nimport { getCanonicalLocale as he } from \"@nextcloud/l10n\";\nimport { NcCheckboxRadioSwitch as ie, NcDateTime as ye, NcButton as ne, NcActions as we, NcActionInput as Ce, NcBreadcrumbs as be, NcBreadcrumb as ke, NcSelect as Fe, NcTextField as Se, NcDialog as $e, NcEmptyContent as xe } from \"@nextcloud/vue\";\nimport { join as le } from \"path\";\nimport { loadState as se } from \"@nextcloud/initial-state\";\nimport { generateUrl as H } from \"@nextcloud/router\";\nimport { toValue as ee } from \"@vueuse/core\";\nimport re from \"@nextcloud/axios\";\nimport { t as w, k as Ne } from \"./toast-d1cd63b1.mjs\";\nimport { Fragment as Pe } from \"vue-frag\";\nimport { emit as Le } from \"@nextcloud/event-bus\";\nfunction k(s, e, i, t, n, l, o, _) {\n  var r = typeof s == \"function\" ? s.options : s;\n  e && (r.render = e, r.staticRenderFns = i, r._compiled = !0), t && (r.functional = !0), l && (r._scopeId = \"data-v-\" + l);\n  var u;\n  if (o ? (u = function(f) {\n    f = f || // cached call\n    this.$vnode && this.$vnode.ssrContext || // stateful\n    this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext, !f && typeof __VUE_SSR_CONTEXT__ < \"u\" && (f = __VUE_SSR_CONTEXT__), n && n.call(this, f), f && f._registeredComponents && f._registeredComponents.add(o);\n  }, r._ssrRegister = u) : n && (u = _ ? function() {\n    n.call(\n      this,\n      (r.functional ? this.parent : this).$root.$options.shadowRoot\n    );\n  } : n), u)\n    if (r.functional) {\n      r._injectStyles = u;\n      var p = r.render;\n      r.render = function(g, d) {\n        return u.call(d), p(g, d);\n      };\n    } else {\n      var C = r.beforeCreate;\n      r.beforeCreate = C ? [].concat(C, u) : [u];\n    }\n  return {\n    exports: s,\n    options: r\n  };\n}\nconst ze = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Be = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Ie = [], Ve = /* @__PURE__ */ k(\n  ze,\n  Be,\n  Ie,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst ae = Ve.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst oe = () => {\n  var s, e, i;\n  const t = se(\"files\", \"config\", null), n = y((s = t == null ? void 0 : t.show_hidden) != null ? s : !1), l = y((e = t == null ? void 0 : t.sort_favorites_first) != null ? e : !0), o = y((i = t == null ? void 0 : t.crop_image_previews) != null ? i : !0);\n  return R(() => {\n    re.get(H(\"/apps/files/api/v1/configs\")).then((_) => {\n      var r, u, p, C, f, g, d, S, $;\n      n.value = (p = (u = (r = _.data) == null ? void 0 : r.data) == null ? void 0 : u.show_hidden) != null ? p : !1, l.value = (g = (f = (C = _.data) == null ? void 0 : C.data) == null ? void 0 : f.sort_favorites_first) != null ? g : !0, o.value = ($ = (S = (d = _.data) == null ? void 0 : d.data) == null ? void 0 : S.crop_image_previews) != null ? $ : !0;\n    });\n  }), {\n    showHiddenFiles: n,\n    sortFavoritesFirst: l,\n    cropImagePreviews: o\n  };\n}, Re = (s) => {\n  var e, i, t, n, l, o, _, r, u, p, C, f;\n  const g = (b) => b === \"asc\" ? \"ascending\" : b === \"desc\" ? \"descending\" : \"none\", d = se(\"files\", \"viewConfigs\", null), S = y({\n    sortBy: (i = (e = d == null ? void 0 : d.files) == null ? void 0 : e.sorting_mode) != null ? i : \"basename\",\n    order: g((n = (t = d == null ? void 0 : d.files) == null ? void 0 : t.sorting_direction) != null ? n : \"asc\")\n  }), $ = y({\n    sortBy: (o = (l = d == null ? void 0 : d.recent) == null ? void 0 : l.sorting_mode) != null ? o : \"basename\",\n    order: g((r = (_ = d == null ? void 0 : d.recent) == null ? void 0 : _.sorting_direction) != null ? r : \"asc\")\n  }), P = y({\n    sortBy: (p = (u = d == null ? void 0 : d.favorites) == null ? void 0 : u.sorting_mode) != null ? p : \"basename\",\n    order: g((f = (C = d == null ? void 0 : d.favorites) == null ? void 0 : C.sorting_direction) != null ? f : \"asc\")\n  });\n  R(() => {\n    re.get(H(\"/apps/files/api/v1/views\")).then((b) => {\n      var h, a, c, F, x, z, B, T, E, U, Z, O, j, G, W, q, K, X, J, Q, Y;\n      S.value = {\n        sortBy: (F = (c = (a = (h = b.data) == null ? void 0 : h.data) == null ? void 0 : a.files) == null ? void 0 : c.sorting_mode) != null ? F : \"basename\",\n        order: g((B = (z = (x = b.data) == null ? void 0 : x.data) == null ? void 0 : z.files) == null ? void 0 : B.sorting_direction)\n      }, P.value = {\n        sortBy: (Z = (U = (E = (T = b.data) == null ? void 0 : T.data) == null ? void 0 : E.favorites) == null ? void 0 : U.sorting_mode) != null ? Z : \"basename\",\n        order: g((G = (j = (O = b.data) == null ? void 0 : O.data) == null ? void 0 : j.favorites) == null ? void 0 : G.sorting_direction)\n      }, $.value = {\n        sortBy: (X = (K = (q = (W = b.data) == null ? void 0 : W.data) == null ? void 0 : q.recent) == null ? void 0 : K.sorting_mode) != null ? X : \"basename\",\n        order: g((Y = (Q = (J = b.data) == null ? void 0 : J.data) == null ? void 0 : Q.recent) == null ? void 0 : Y.sorting_direction)\n      };\n    });\n  });\n  const N = v(() => ee(s || \"files\") === \"files\" ? S.value : ee(s) === \"recent\" ? $.value : P.value), L = v(() => N.value.sortBy), m = v(() => N.value.order);\n  return {\n    filesViewConfig: S,\n    favoritesViewConfig: P,\n    recentViewConfig: $,\n    currentConfig: N,\n    sortBy: L,\n    order: m\n  };\n}, Me = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar De = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon menu-up-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M7,15L12,10L17,15H7Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, He = [], Ae = /* @__PURE__ */ k(\n  Me,\n  De,\n  He,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Te = Ae.exports, Ee = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ue = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon menu-down-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M7,10L12,15L17,10H7Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Ze = [], Oe = /* @__PURE__ */ k(\n  Ee,\n  Ue,\n  Ze,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst je = Oe.exports, ce = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_1vgv4_5\"\n}, Ge = /* @__PURE__ */ I({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(s) {\n    return { __sfc: !0, fileListIconStyles: ce };\n  }\n});\nvar We = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"tr\", { staticClass: \"file-picker__row loading-row\", attrs: { \"aria-hidden\": \"true\" } }, [e.showCheckbox ? i(\"td\", { staticClass: \"row-checkbox\" }, [i(\"span\")]) : e._e(), i(\"td\", { staticClass: \"row-name\" }, [i(\"div\", { staticClass: \"row-wrapper\" }, [i(\"span\", { class: t.fileListIconStyles[\"file-picker__file-icon\"] }), i(\"span\")])]), e._m(0), e._m(1)]);\n}, qe = [function() {\n  var s = this, e = s._self._c;\n  return s._self._setupProxy, e(\"td\", { staticClass: \"row-size\" }, [e(\"span\")]);\n}, function() {\n  var s = this, e = s._self._c;\n  return s._self._setupProxy, e(\"td\", { staticClass: \"row-modified\" }, [e(\"span\")]);\n}], Ke = /* @__PURE__ */ k(\n  Ge,\n  We,\n  qe,\n  !1,\n  null,\n  \"6aded0d9\",\n  null,\n  null\n);\nconst Xe = Ke.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction Je(s, e = {}) {\n  var i;\n  e = { size: 32, cropPreview: !1, mimeFallback: !0, ...e };\n  try {\n    const t = ((i = s.attributes) == null ? void 0 : i.previewUrl) || H(\"/core/preview?fileId={fileid}\", {\n      fileid: s.fileid\n    });\n    let n;\n    try {\n      n = new URL(t);\n    } catch {\n      n = new URL(t, window.location.origin);\n    }\n    return n.searchParams.set(\"x\", \"\".concat(e.size)), n.searchParams.set(\"y\", \"\".concat(e.size)), n.searchParams.set(\"mimeFallback\", \"\".concat(e.mimeFallback)), n.searchParams.set(\"a\", e.cropPreview === !0 ? \"0\" : \"1\"), n.searchParams.set(\"c\", \"\".concat(s.attributes.etag)), n;\n  } catch {\n    return null;\n  }\n}\nconst Qe = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ye = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, et = [], tt = /* @__PURE__ */ k(\n  Qe,\n  Ye,\n  et,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst A = tt.exports, it = {\n  name: \"FilePreview\"\n}, nt = /* @__PURE__ */ I({\n  ...it,\n  props: {\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(s) {\n    const e = s, i = y(ce), t = v(() => Je(e.node, { cropPreview: e.cropImagePreviews })), n = v(() => e.node.type === V.File), l = y(!1);\n    return te(t, () => {\n      if (l.value = !1, t.value) {\n        const o = document.createElement(\"img\");\n        o.src = t.value.href, o.onerror = () => o.remove(), o.onload = () => {\n          l.value = !0, o.remove();\n        }, document.body.appendChild(o);\n      }\n    }, { immediate: !0 }), { __sfc: !0, fileListIconStyles: i, props: e, previewURL: t, isFile: n, canLoadPreview: l, t: w, IconFile: ae, IconFolder: A };\n  }\n});\nvar lt = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"div\", { class: t.fileListIconStyles[\"file-picker__file-icon\"], style: t.canLoadPreview ? { backgroundImage: \"url(\".concat(t.previewURL, \")\") } : void 0, attrs: { \"aria-label\": t.t(\"MIME type {mime}\", { mime: e.node.mime || t.t(\"unknown\") }) } }, [t.canLoadPreview ? e._e() : [t.isFile ? i(t.IconFile, { attrs: { size: 20 } }) : i(t.IconFolder, { attrs: { size: 20 } })]], 2);\n}, st = [], rt = /* @__PURE__ */ k(\n  nt,\n  lt,\n  st,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst at = rt.exports, ot = /* @__PURE__ */ I({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: null,\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enter-directory\"],\n  setup(s, { emit: e }) {\n    const i = s, t = v(() => {\n      var p;\n      return ((p = i.node.attributes) == null ? void 0 : p.displayName) || i.node.basename.slice(0, i.node.extension ? -i.node.extension.length : void 0);\n    }), n = v(() => i.node.extension), l = v(() => i.node.type === V.Folder), o = v(() => i.canPick && (i.allowPickDirectory || !l.value));\n    function _() {\n      e(\"update:selected\", !i.selected);\n    }\n    function r() {\n      l.value ? e(\"enter-directory\", i.node) : _();\n    }\n    function u(p) {\n      p.key === \"Enter\" && r();\n    }\n    return { __sfc: !0, props: i, emit: e, displayName: t, fileExtension: n, isDirectory: l, isPickable: o, toggleSelected: _, handleClick: r, handleKeyDown: u, formatFileSize: fe, NcCheckboxRadioSwitch: ie, NcDateTime: ye, t: w, FilePreview: at };\n  }\n});\nvar ct = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"tr\", e._g(\n    { class: [\"file-picker__row\", {\n      \"file-picker__row--selected\": e.selected && !e.showCheckbox\n    }], attrs: { tabindex: e.showCheckbox && !t.isDirectory ? void 0 : 0, \"aria-selected\": t.isPickable ? e.selected : void 0, \"data-filename\": e.node.basename, \"data-testid\": \"file-list-row\" }, on: { click: t.handleClick } },\n    /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n    !e.showCheckbox || t.isDirectory ? { keydown: t.handleKeyDown } : {}\n  ), [e.showCheckbox ? i(\"td\", { staticClass: \"row-checkbox\" }, [i(t.NcCheckboxRadioSwitch, { attrs: { disabled: !t.isPickable, checked: e.selected, \"aria-label\": t.t(\"Select the row for {nodename}\", { nodename: t.displayName }), \"data-testid\": \"row-checkbox\" }, on: { click: function(n) {\n    n.stopPropagation();\n  }, \"update:checked\": t.toggleSelected } })], 1) : e._e(), i(\"td\", { staticClass: \"row-name\" }, [i(\"div\", { staticClass: \"file-picker__name-container\", attrs: { \"data-testid\": \"row-name\" } }, [i(t.FilePreview, { attrs: { node: e.node, \"crop-image-previews\": e.cropImagePreviews } }), i(\"div\", { staticClass: \"file-picker__file-name\", attrs: { title: t.displayName }, domProps: { textContent: e._s(t.displayName) } }), i(\"div\", { staticClass: \"file-picker__file-extension\", domProps: { textContent: e._s(t.fileExtension) } })], 1)]), i(\"td\", { staticClass: \"row-size\" }, [e._v(\" \" + e._s(t.formatFileSize(e.node.size || 0)) + \" \")]), i(\"td\", { staticClass: \"row-modified\" }, [i(t.NcDateTime, { attrs: { timestamp: e.node.mtime, \"ignore-seconds\": !0 } })], 1)]);\n}, ut = [], dt = /* @__PURE__ */ k(\n  ot,\n  ct,\n  ut,\n  !1,\n  null,\n  \"ee6f34b5\",\n  null,\n  null\n);\nconst _t = dt.exports, ft = /* @__PURE__ */ I({\n  __name: \"FileList\",\n  props: {\n    currentView: null,\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: null,\n    selectedFiles: null,\n    path: null\n  },\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(s, { emit: e }) {\n    const i = s, t = y(), { currentConfig: n } = Re(i.currentView), l = v(() => {\n      var m;\n      return (m = t.value) != null ? m : n.value;\n    }), o = v(() => l.value.sortBy === \"basename\" ? l.value.order === \"none\" ? void 0 : l.value.order : void 0), _ = v(() => l.value.sortBy === \"size\" ? l.value.order === \"none\" ? void 0 : l.value.order : void 0), r = v(() => l.value.sortBy === \"mtime\" ? l.value.order === \"none\" ? void 0 : l.value.order : void 0), u = (m) => {\n      l.value.sortBy === m ? l.value.order === \"ascending\" ? t.value = { sortBy: l.value.sortBy, order: \"descending\" } : t.value = { sortBy: l.value.sortBy, order: \"ascending\" } : t.value = { sortBy: m, order: \"ascending\" };\n    }, { sortFavoritesFirst: p, cropImagePreviews: C } = oe(), f = v(\n      () => {\n        const m = {\n          ascending: (h, a, c) => c(h, a),\n          descending: (h, a, c) => c(a, h),\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          none: (h, a, c) => 0\n        }, b = {\n          basename: (h, a) => {\n            var c, F;\n            return (((c = h.attributes) == null ? void 0 : c.displayName) || h.basename).localeCompare(((F = a.attributes) == null ? void 0 : F.displayName) || a.basename, he());\n          },\n          size: (h, a) => (h.size || 0) - (a.size || 0),\n          // reverted because \"young\" is smaller than \"old\"\n          mtime: (h, a) => {\n            var c, F, x, z;\n            return (((F = (c = a.mtime) == null ? void 0 : c.getTime) == null ? void 0 : F.call(c)) || 0) - (((z = (x = h.mtime) == null ? void 0 : x.getTime) == null ? void 0 : z.call(x)) || 0);\n          }\n        };\n        return [...i.files].sort(\n          (h, a) => (\n            // Folders always come above the files\n            (a.type === V.Folder ? 1 : 0) - (h.type === V.Folder ? 1 : 0) || (p ? (a.attributes.favorite ? 1 : 0) - (h.attributes.favorite ? 1 : 0) : 0) || m[l.value.order](h, a, b[l.value.sortBy])\n          )\n        );\n      }\n    ), g = v(() => i.files.filter((m) => i.allowPickDirectory || m.type !== V.Folder)), d = v(() => !i.loading && i.selectedFiles.length > 0 && i.selectedFiles.length >= g.value.length);\n    function S() {\n      i.selectedFiles.length < g.value.length ? e(\"update:selectedFiles\", g.value) : e(\"update:selectedFiles\", []);\n    }\n    function $(m) {\n      i.selectedFiles.includes(m) ? e(\"update:selectedFiles\", i.selectedFiles.filter((b) => b.path !== m.path)) : i.multiselect ? e(\"update:selectedFiles\", [...i.selectedFiles, m]) : e(\"update:selectedFiles\", [m]);\n    }\n    function P(m) {\n      e(\"update:path\", le(i.path, m.basename));\n    }\n    const N = y(4), L = y();\n    {\n      const m = () => de(() => {\n        var b, h, a, c, F;\n        const x = ((h = (b = L.value) == null ? void 0 : b.parentElement) == null ? void 0 : h.children) || [];\n        let z = ((c = (a = L.value) == null ? void 0 : a.parentElement) == null ? void 0 : c.clientHeight) || 450;\n        for (let B = 0; B < x.length; B++)\n          (F = L.value) != null && F.isSameNode(x[B]) || (z -= x[B].clientHeight);\n        N.value = Math.floor((z - 50) / 50);\n      });\n      R(() => {\n        window.addEventListener(\"resize\", m), m();\n      }), ue(() => {\n        window.removeEventListener(\"resize\", m);\n      });\n    }\n    return { __sfc: !0, props: i, emit: e, customSortingConfig: t, filesAppSorting: n, sortingConfig: l, sortByName: o, sortBySize: _, sortByModified: r, toggleSorting: u, sortFavoritesFirst: p, cropImagePreviews: C, sortedFiles: f, selectableFiles: g, allSelected: d, onSelectAll: S, onNodeSelected: $, onChangeDirectory: P, skeletonNumber: N, fileContainer: L, NcButton: ne, NcCheckboxRadioSwitch: ie, t: w, IconSortAscending: Te, IconSortDescending: je, LoadingTableRow: Xe, FileListRow: _t };\n  }\n});\nvar pt = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(\"div\", { ref: \"fileContainer\", staticClass: \"file-picker__files\" }, [i(\"table\", [i(\"thead\", [i(\"tr\", [e.multiselect ? i(\"th\", { staticClass: \"row-checkbox\" }, [i(\"span\", { staticClass: \"hidden-visually\" }, [e._v(\" \" + e._s(t.t(\"Select entry\")) + \" \")]), e.multiselect ? i(t.NcCheckboxRadioSwitch, { attrs: { \"aria-label\": t.t(\"Select all entries\"), checked: t.allSelected, \"data-testid\": \"select-all-checkbox\" }, on: { \"update:checked\": t.onSelectAll } }) : e._e()], 1) : e._e(), i(\"th\", { staticClass: \"row-name\", attrs: { \"aria-sort\": t.sortByName } }, [i(\"div\", { staticClass: \"header-wrapper\" }, [i(\"span\", { staticClass: \"file-picker__header-preview\" }), i(t.NcButton, { attrs: { wide: !0, type: \"tertiary\", \"data-test\": \"file-picker_sort-name\" }, on: { click: function(n) {\n    return t.toggleSorting(\"basename\");\n  } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t.sortByName === \"ascending\" ? i(t.IconSortAscending, { attrs: { size: 20 } }) : t.sortByName === \"descending\" ? i(t.IconSortDescending, { attrs: { size: 20 } }) : i(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(t.t(\"Name\")) + \" \")])], 1)]), i(\"th\", { staticClass: \"row-size\", attrs: { \"aria-sort\": t.sortBySize } }, [i(t.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: function(n) {\n    return t.toggleSorting(\"size\");\n  } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t.sortBySize === \"ascending\" ? i(t.IconSortAscending, { attrs: { size: 20 } }) : t.sortBySize === \"descending\" ? i(t.IconSortDescending, { attrs: { size: 20 } }) : i(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(t.t(\"Size\")) + \" \")])], 1), i(\"th\", { staticClass: \"row-modified\", attrs: { \"aria-sort\": t.sortByModified } }, [i(t.NcButton, { attrs: { wide: !0, type: \"tertiary\" }, on: { click: function(n) {\n    return t.toggleSorting(\"mtime\");\n  } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [t.sortByModified === \"ascending\" ? i(t.IconSortAscending, { attrs: { size: 20 } }) : t.sortByModified === \"descending\" ? i(t.IconSortDescending, { attrs: { size: 20 } }) : i(\"span\", { staticStyle: { width: \"44px\" } })];\n  }, proxy: !0 }]) }, [e._v(\" \" + e._s(t.t(\"Modified\")) + \" \")])], 1)])]), i(\"tbody\", [e.loading ? e._l(t.skeletonNumber, function(n) {\n    return i(t.LoadingTableRow, { key: n, attrs: { \"show-checkbox\": e.multiselect } });\n  }) : e._l(t.sortedFiles, function(n) {\n    return i(t.FileListRow, { key: n.fileid || n.path, attrs: { \"allow-pick-directory\": e.allowPickDirectory, \"show-checkbox\": e.multiselect, \"can-pick\": e.multiselect || e.selectedFiles.length === 0 || e.selectedFiles.includes(n), selected: e.selectedFiles.includes(n), node: n, \"crop-image-previews\": t.cropImagePreviews }, on: { \"update:selected\": function(l) {\n      return t.onNodeSelected(n);\n    }, \"enter-directory\": t.onChangeDirectory } });\n  })], 2)])]);\n}, vt = [], mt = /* @__PURE__ */ k(\n  ft,\n  pt,\n  vt,\n  !1,\n  null,\n  \"4297db37\",\n  null,\n  null\n);\nconst gt = mt.exports, ht = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar yt = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon home-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, wt = [], Ct = /* @__PURE__ */ k(\n  ht,\n  yt,\n  wt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst bt = Ct.exports, kt = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ft = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon plus-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, St = [], $t = /* @__PURE__ */ k(\n  kt,\n  Ft,\n  St,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst xt = $t.exports, Nt = /* @__PURE__ */ I({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: null,\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(s, { emit: e }) {\n    const i = s, t = y(\"\"), n = y();\n    function l() {\n      var r, u, p, C;\n      const f = t.value.trim(), g = (u = (r = n.value) == null ? void 0 : r.$el) == null ? void 0 : u.querySelector(\"input\");\n      let d = \"\";\n      return f.length === 0 ? d = w(\"Folder name cannot be empty.\") : f.includes(\"/\") ? d = w('\"/\" is not allowed inside a folder name.') : [\"..\", \".\"].includes(f) ? d = w('\"{name}\" is an invalid folder name.', { name: f }) : (p = window.OC.config) != null && p.blacklist_files_regex && f.match((C = window.OC.config) == null ? void 0 : C.blacklist_files_regex) && (d = w('\"{name}\" is not an allowed folder name', { name: f })), g && g.setCustomValidity(d), d === \"\";\n    }\n    const o = function() {\n      const r = t.value.trim();\n      l() && (e(\"create-node\", r), t.value = \"\");\n    }, _ = v(\n      () => i.path.split(\"/\").filter((r) => r !== \"\").map((r, u, p) => ({\n        name: r,\n        path: \"/\" + p.slice(0, u + 1).join(\"/\")\n      }))\n    );\n    return { __sfc: !0, props: i, emit: e, newNodeName: t, nameInput: n, validateInput: l, onSubmit: o, pathElements: _, IconFolder: A, IconHome: bt, IconPlus: xt, NcActions: we, NcActionInput: Ce, NcBreadcrumbs: be, NcBreadcrumb: ke, t: w };\n  }\n});\nvar Pt = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(t.NcBreadcrumbs, { staticClass: \"file-picker__breadcrumbs\", scopedSlots: e._u([{ key: \"default\", fn: function() {\n    return [i(t.NcBreadcrumb, { attrs: { name: t.t(\"Home\"), title: t.t(\"Home\") }, on: { click: function(n) {\n      return t.emit(\"update:path\", \"/\");\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(t.IconHome, { attrs: { size: 20 } })];\n    }, proxy: !0 }]) }), e._l(t.pathElements, function(n) {\n      return i(t.NcBreadcrumb, { key: n.path, attrs: { name: n.name, title: n.path }, on: { click: function(l) {\n        return t.emit(\"update:path\", n.path);\n      } } });\n    })];\n  }, proxy: !0 }, e.showMenu ? { key: \"actions\", fn: function() {\n    return [i(t.NcActions, { attrs: { \"aria-label\": t.t(\"Create directory\"), \"force-menu\": !0, \"force-name\": !0, \"menu-name\": t.t(\"New\"), type: \"secondary\" }, on: { close: function(n) {\n      t.newNodeName = \"\";\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(t.IconPlus, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 2971667417) }, [i(t.NcActionInput, { ref: \"nameInput\", attrs: { value: t.newNodeName, label: t.t(\"New folder\"), placeholder: t.t(\"New folder name\") }, on: { \"update:value\": function(n) {\n      t.newNodeName = n;\n    }, submit: t.onSubmit, input: t.validateInput }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(t.IconFolder, { attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !1, 1614167509) })], 1)];\n  }, proxy: !0 } : null], null, !0) });\n}, Lt = [], zt = /* @__PURE__ */ k(\n  Nt,\n  Pt,\n  Lt,\n  !1,\n  null,\n  \"3bc9efa5\",\n  null,\n  null\n);\nconst Bt = zt.exports, It = {\n  name: \"ClockIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Vt = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon clock-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Rt = [], Mt = /* @__PURE__ */ k(\n  It,\n  Vt,\n  Rt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Dt = Mt.exports, Ht = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar At = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Tt = [], Et = /* @__PURE__ */ k(\n  Ht,\n  At,\n  Tt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Ut = Et.exports, Zt = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Ot = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon magnify-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, jt = [], Gt = /* @__PURE__ */ k(\n  Zt,\n  Ot,\n  jt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Wt = Gt.exports, qt = {\n  name: \"StarIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar Kt = function() {\n  var e = this, i = e._self._c;\n  return i(\"span\", e._b({ staticClass: \"material-design-icon star-icon\", attrs: { \"aria-hidden\": !e.title, \"aria-label\": e.title, role: \"img\" }, on: { click: function(t) {\n    return e.$emit(\"click\", t);\n  } } }, \"span\", e.$attrs, !1), [i(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { fill: e.fillColor, width: e.size, height: e.size, viewBox: \"0 0 24 24\" } }, [i(\"path\", { attrs: { d: \"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" } }, [e.title ? i(\"title\", [e._v(e._s(e.title))]) : e._e()])])]);\n}, Xt = [], Jt = /* @__PURE__ */ k(\n  qt,\n  Kt,\n  Xt,\n  !1,\n  null,\n  null,\n  null,\n  null\n);\nconst Qt = Jt.exports, Yt = /* @__PURE__ */ I({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: null,\n    filterString: null,\n    isCollapsed: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(s, { emit: e }) {\n    const i = s, t = [{\n      id: \"files\",\n      label: w(\"All files\"),\n      icon: A\n    }, {\n      id: \"recent\",\n      label: w(\"Recent\"),\n      icon: Dt\n    }, {\n      id: \"favorites\",\n      label: w(\"Favorites\"),\n      icon: Qt\n    }], n = v(() => t.filter((o) => o.id === i.currentView)[0]);\n    return { __sfc: !0, allViews: t, props: i, emit: e, currentViewObject: n, updateFilterValue: (o) => e(\"update:filterString\", o), IconClose: Ut, IconMagnify: Wt, NcButton: ne, NcSelect: Fe, NcTextField: Se, t: w, Fragment: Pe };\n  }\n});\nvar ei = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(t.Fragment, [i(t.NcTextField, { staticClass: \"file-picker__filter-input\", attrs: { value: e.filterString, label: t.t(\"Filter file list\"), \"show-trailing-button\": !!e.filterString }, on: { \"update:value\": t.updateFilterValue, \"trailing-button-click\": function(n) {\n    return t.updateFilterValue(\"\");\n  } }, scopedSlots: e._u([{ key: \"trailing-button-icon\", fn: function() {\n    return [i(t.IconClose, { attrs: { size: 16 } })];\n  }, proxy: !0 }]) }, [i(t.IconMagnify, { attrs: { size: 16 } })], 1), e.isCollapsed ? i(t.NcSelect, { attrs: { \"aria-label\": t.t(\"Current view selector\"), clearable: !1, searchable: !1, options: t.allViews, value: t.currentViewObject }, on: { input: (n) => t.emit(\"update:currentView\", n.id) } }) : i(\"ul\", { staticClass: \"file-picker__side\", attrs: { role: \"tablist\", \"aria-label\": t.t(\"Filepicker sections\") } }, e._l(t.allViews, function(n) {\n    return i(\"li\", { key: n.id }, [i(t.NcButton, { attrs: { \"aria-selected\": e.currentView === n.id, type: e.currentView === n.id ? \"primary\" : \"tertiary\", wide: !0, role: \"tab\" }, on: { click: function(l) {\n      return e.$emit(\"update:currentView\", n.id);\n    } }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n      return [i(n.icon, { tag: \"component\", attrs: { size: 20 } })];\n    }, proxy: !0 }], null, !0) }, [e._v(\" \" + e._s(n.label) + \" \")])], 1);\n  }), 0)], 1);\n}, ti = [], ii = /* @__PURE__ */ k(\n  Yt,\n  ei,\n  ti,\n  !1,\n  null,\n  \"fcfd0f23\",\n  null,\n  null\n);\nconst ni = ii.exports;\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst li = function(s, e) {\n  const i = pe(), t = y([]), n = y(!0);\n  async function l(_, r = D) {\n    const u = await i.stat(\"\".concat(r).concat(_), {\n      details: !0\n    });\n    return M(u.data);\n  }\n  async function o() {\n    if (n.value = !0, s.value === \"favorites\")\n      t.value = await ve(i, e.value);\n    else if (s.value === \"recent\") {\n      const _ = Math.round(Date.now() / 1e3) - 1209600, { data: r } = await i.search(\"/\", {\n        details: !0,\n        data: me(_)\n      });\n      t.value = r.results.map((u) => M(u));\n    } else {\n      const _ = await i.getDirectoryContents(\"\".concat(D).concat(e.value), {\n        details: !0,\n        data: ge()\n      });\n      t.value = _.data.map((r) => M(r));\n    }\n    n.value = !1;\n  }\n  return te([s, e], () => o()), R(() => o()), {\n    isLoading: n,\n    files: t,\n    loadFiles: o,\n    getFile: l,\n    client: i\n  };\n};\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst si = function(s) {\n  const e = v(() => s.value.map((t) => t.split(\"/\")));\n  return {\n    isSupportedMimeType: (t) => {\n      const n = t.split(\"/\");\n      return e.value.some(\n        ([l, o]) => (\n          // check mime type matches or is wildcard\n          (n[0] === l || l === \"*\") && (n[1] === o || o === \"*\")\n        )\n      );\n    }\n  };\n}, ri = {\n  name: \"FilePicker\"\n}, ai = /* @__PURE__ */ I({\n  ...ri,\n  props: {\n    buttons: null,\n    name: null,\n    allowPickDirectory: { type: Boolean, default: !1 },\n    container: { default: \"body\" },\n    filterFn: { default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: !0 },\n    path: { default: \"/\" }\n  },\n  emits: [\"close\"],\n  setup(s, { emit: e }) {\n    const i = s, t = v(() => ({\n      container: i.container,\n      name: i.name,\n      buttons: n.value,\n      size: \"large\",\n      contentClasses: [\"file-picker__content\"],\n      dialogClasses: [\"file-picker\"],\n      navigationClasses: [\"file-picker__navigation\"]\n    })), n = v(() => (typeof i.buttons == \"function\" ? i.buttons(_.value, p.value, l.value) : i.buttons).map((c) => ({\n      ...c,\n      callback: async () => {\n        const F = _.value.length === 0 && i.allowPickDirectory ? [await $(p.value)] : _.value;\n        c.callback(F), e(\"close\", F);\n      }\n    }))), l = y(\"files\"), o = v(() => l.value === \"favorites\" ? w(\"Favorites\") : l.value === \"recent\" ? w(\"Recent\") : \"\"), _ = y([]), r = y((window == null ? void 0 : window.sessionStorage.getItem(\"NC.FilePicker.LastPath\")) || \"/\"), u = y(), p = v({\n      // Only use the path for the files view as favorites and recent only works on the root\n      get: () => l.value === \"files\" ? u.value || i.path || r.value : \"/\",\n      /**\n       * Navigate to the new path and save it to the session storage\n       *\n       * @param path The new path\n       */\n      set: (a) => {\n        i.path === void 0 && window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", a), u.value = a, _.value = [];\n      }\n    }), C = y(\"\"), { isSupportedMimeType: f } = si(_e(i, \"mimetypeFilter\")), { files: g, isLoading: d, loadFiles: S, getFile: $, client: P } = li(l, p);\n    R(() => S());\n    const { showHiddenFiles: N } = oe(), L = v(() => {\n      let a = g.value;\n      return N.value || (a = a.filter((c) => !c.basename.startsWith(\".\"))), i.mimetypeFilter.length > 0 && (a = a.filter((c) => c.type === \"folder\" || c.mime && f(c.mime))), C.value && (a = a.filter((c) => c.basename.toLowerCase().includes(C.value.toLowerCase()))), i.filterFn && (a = a.filter((c) => i.filterFn(c))), a;\n    }), m = v(() => l.value === \"files\" ? w(\"Upload some content or sync with your devices!\") : l.value === \"recent\" ? w(\"Files and folders you recently modified will show up here.\") : w(\"Files and folders you mark as favorite will show up here.\"));\n    return { __sfc: !0, props: i, emit: e, dialogProps: t, dialogButtons: n, currentView: l, viewHeadline: o, selectedFiles: _, savedPath: r, navigatedPath: u, currentPath: p, filterString: C, isSupportedMimeType: f, files: g, isLoading: d, loadFiles: S, getFile: $, client: P, showHiddenFiles: N, filteredFiles: L, noFilesDescription: m, onCreateFolder: async (a) => {\n      try {\n        await P.createDirectory(le(D, p.value, a)), await S(), Le(\"files:node:created\", g.value.filter((c) => c.basename === a)[0]);\n      } catch (c) {\n        console.warn(\"Could not create new folder\", { name: a, error: c }), Ne(w(\"Could not create the new folder\"));\n      }\n    }, handleClose: (a) => {\n      a || e(\"close\");\n    }, IconFile: ae, FileList: gt, FilePickerBreadcrumbs: Bt, FilePickerNavigation: ni, NcDialog: $e, NcEmptyContent: xe, t: w };\n  }\n});\nvar oi = function() {\n  var e = this, i = e._self._c, t = e._self._setupProxy;\n  return i(t.NcDialog, e._b({ on: { \"update:open\": t.handleClose }, scopedSlots: e._u([{ key: \"navigation\", fn: function({ isCollapsed: n }) {\n    return [i(t.FilePickerNavigation, { attrs: { \"is-collapsed\": n, \"current-view\": t.currentView, \"filter-string\": t.filterString }, on: { \"update:currentView\": function(l) {\n      t.currentView = l;\n    }, \"update:current-view\": function(l) {\n      t.currentView = l;\n    }, \"update:filterString\": function(l) {\n      t.filterString = l;\n    }, \"update:filter-string\": function(l) {\n      t.filterString = l;\n    } } })];\n  } }]) }, \"NcDialog\", t.dialogProps, !1), [i(\"div\", { staticClass: \"file-picker__main\" }, [t.currentView === \"files\" ? i(t.FilePickerBreadcrumbs, { attrs: { path: t.currentPath, \"show-menu\": e.allowPickDirectory }, on: { \"update:path\": function(n) {\n    t.currentPath = n;\n  }, \"create-node\": t.onCreateFolder } }) : i(\"div\", { staticClass: \"file-picker__view\" }, [i(\"h3\", [e._v(e._s(t.viewHeadline))])]), t.isLoading || t.filteredFiles.length > 0 ? i(t.FileList, { attrs: { \"allow-pick-directory\": e.allowPickDirectory, \"current-view\": t.currentView, files: t.filteredFiles, multiselect: e.multiselect, loading: t.isLoading, path: t.currentPath, \"selected-files\": t.selectedFiles, name: t.viewHeadline }, on: { \"update:path\": [function(n) {\n    t.currentPath = n;\n  }, function(n) {\n    t.currentView = \"files\";\n  }], \"update:selectedFiles\": function(n) {\n    t.selectedFiles = n;\n  }, \"update:selected-files\": function(n) {\n    t.selectedFiles = n;\n  } } }) : t.filterString ? i(t.NcEmptyContent, { attrs: { name: t.t(\"No matching files\"), description: t.t(\"No files matching your filter were found.\") }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i(t.IconFile)];\n  }, proxy: !0 }]) }) : i(t.NcEmptyContent, { attrs: { name: t.t(\"No files in here\"), description: t.noFilesDescription }, scopedSlots: e._u([{ key: \"icon\", fn: function() {\n    return [i(t.IconFile)];\n  }, proxy: !0 }]) })], 1)]);\n}, ci = [], ui = /* @__PURE__ */ k(\n  ai,\n  oi,\n  ci,\n  !1,\n  null,\n  \"86a13079\",\n  null,\n  null\n);\nconst ki = ui.exports;\nexport {\n  ki as default\n};\n"],"names":["k","s","e","i","t","n","l","o","_","u","r","options","render","staticRenderFns","_compiled","functional","_scopeId","f","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","p","g","d","C","beforeCreate","concat","exports","ae","name","emits","props","title","type","String","fillColor","default","size","Number","_self","_c","_b","staticClass","attrs","role","on","click","$emit","$attrs","fill","width","height","viewBox","_v","_s","_e","oe","show_hidden","sort_favorites_first","crop_image_previews","then","S","$","value","data","showHiddenFiles","sortFavoritesFirst","cropImagePreviews","Te","je","ce","Xe","__name","showCheckbox","Boolean","setup","__sfc","fileListIconStyles","_setupProxy","class","_m","A","at","node","cropPreview","mimeFallback","attributes","previewUrl","fileid","URL","window","location","origin","searchParams","set","etag","Je","document","createElement","src","href","onerror","remove","onload","body","appendChild","immediate","previewURL","isFile","canLoadPreview","IconFile","IconFolder","style","backgroundImage","mime","_t","allowPickDirectory","selected","canPick","emit","displayName","basename","slice","extension","length","fileExtension","isDirectory","isPickable","toggleSelected","handleClick","handleKeyDown","key","formatFileSize","NcCheckboxRadioSwitch","NcDateTime","FilePreview","_g","tabindex","keydown","disabled","checked","nodename","stopPropagation","domProps","textContent","timestamp","mtime","gt","currentView","multiselect","loading","files","selectedFiles","path","currentConfig","b","sortBy","sorting_mode","order","sorting_direction","recent","P","favorites","h","a","c","F","x","z","B","T","E","U","Z","O","j","G","W","q","K","X","J","Q","Y","N","L","m","filesViewConfig","favoritesViewConfig","recentViewConfig","Re","ascending","descending","none","localeCompare","getTime","sort","favorite","filter","parentElement","children","clientHeight","isSameNode","Math","floor","addEventListener","removeEventListener","customSortingConfig","filesAppSorting","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","selectableFiles","allSelected","onSelectAll","onNodeSelected","includes","onChangeDirectory","skeletonNumber","fileContainer","NcButton","IconSortAscending","IconSortDescending","LoadingTableRow","FileListRow","ref","wide","scopedSlots","_u","fn","staticStyle","proxy","_l","bt","xt","Bt","showMenu","trim","$el","querySelector","OC","config","blacklist_files_regex","match","setCustomValidity","split","map","join","newNodeName","nameInput","validateInput","onSubmit","pathElements","IconHome","IconPlus","NcActions","NcActionInput","NcBreadcrumbs","NcBreadcrumb","close","label","placeholder","submit","input","Dt","Ut","Wt","Qt","ni","filterString","isCollapsed","id","icon","allViews","currentViewObject","updateFilterValue","IconClose","IconMagnify","NcSelect","NcTextField","Fragment","clearable","searchable","tag","ki","buttons","container","filterFn","mimetypeFilter","contentClasses","dialogClasses","navigationClasses","callback","async","sessionStorage","getItem","get","setItem","isSupportedMimeType","some","si","isLoading","loadFiles","getFile","client","round","Date","now","search","details","results","getDirectoryContents","stat","li","startsWith","toLowerCase","dialogProps","dialogButtons","viewHeadline","savedPath","navigatedPath","currentPath","filteredFiles","noFilesDescription","onCreateFolder","createDirectory","console","warn","error","handleClose","FileList","FilePickerBreadcrumbs","FilePickerNavigation","NcDialog","NcEmptyContent","description"],"sourceRoot":""}