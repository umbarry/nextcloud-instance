(self.webpackChunkncpasswords=self.webpackChunkncpasswords||[]).push([[5722],{49405:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});const s={}},11312:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});const s={}},79774:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});const s={}},15504:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});const s={}},92150:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>et});var s=function(){var t=this,e=t._self._c;return e("nc-app-navigation",{scopedSlots:t._u([{key:"list",fn:function(){return[e("app-navigation-item",{attrs:{name:t.t("All"),to:{name:"All"},exact:!0},scopedSlots:t._u([{key:"icon",fn:function(){return[e("earth-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("app-navigation-item-folders"),t._v(" "),e("app-navigation-item",{attrs:{name:t.t("Recent"),to:{name:"Recent"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("clock-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("app-navigation-item-favorites"),t._v(" "),e("app-navigation-item-shared"),t._v(" "),e("app-navigation-item-tags"),t._v(" "),e("app-navigation-item-security"),t._v(" "),t.isSearchVisible?e("app-navigation-item",{attrs:{name:t.t("Search"),to:{name:"Search"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("magnify-icon",{attrs:{size:20}})]},proxy:!0}],null,!1,260187901)}):t._e(),t._v(" "),!t.isMobile&&t.hasTimeout?e("session-timeout"):t._e()]},proxy:!0},{key:"footer",fn:function(){return[e("app-navigation-more")]},proxy:!0}])},[e("app-navigation-search")],1)};s._withStripped=!0;var o=a(42530);const i={extends:a(52439).A,computed:{isActive(){return this.exact?this.to&&this.$route.name===this.to.name&&JSON.stringify(this.$route.params)===JSON.stringify(this.to.params):this.to&&this.$route.name===this.to.name}}};a(89114);var n=a(14486);const r=(0,n.A)(i,void 0,void 0,!1,null,null,null).exports;var l=function(){var t=this,e=t._self._c;return e("app-navigation-item",{ref:"navigation-item",attrs:{name:t.t("Favorites"),to:{name:"Favorites"},allowCollapse:!0,open:t.open,loading:t.loading},on:{"update:open":t.loadFavorites}},[e("star-icon",{attrs:{slot:"icon",size:20},slot:"icon"}),t._v(" "),[t._l(t.folders,(function(a){return e("app-navigation-item",{key:a.id,attrs:{name:a.label,to:{name:"Folders",params:{folder:a.id}},exact:!0,"data-folder-id":a.id,"data-drop-type":"folder"}},[e("folder-icon",{attrs:{slot:"icon",size:20,"fill-color":t.folderIconColor(a.id)},slot:"icon"})],1)})),t._v(" "),t._l(t.tags,(function(t){return e("app-navigation-item",{key:t.id,attrs:{name:t.label,to:{name:"Tags",params:{tag:t.id}},exact:!0,"data-tag-id":t.id,"data-drop-type":"tag"}},[e("tag-icon",{attrs:{slot:"icon",size:20,"fill-color":t.color},slot:"icon"})],1)})),t._v(" "),0===t.foldersLoaded||0===t.tagsLoaded?e("nc-loading-icon"):t._e()]],2)};l._withStripped=!0;var d=a(18126),c=a(56071),h=a(85361),p=a(43454),u=a(61780),m=a(56423),f=a(61338),g=a(90512);const v={name:"app-navigation-item-favorites",components:{AppNavigationItem:r,NcLoadingIcon:d.A,TagIcon:p.A,FolderIcon:c.A,StarIcon:h.A},data:()=>({open:!1,loading:!1,tags:[],folders:[],foldersLoaded:!1,tagsLoaded:!1}),mounted(){this.open="Favorites"===this.$route.name,this.open&&this.loadFavorites(),u.A.on("tag.changed",(()=>{this.$refs["navigation-item"].opened?this.refreshTags():0!==this.tags.length&&(this.tags=[],this.tagsLoaded=!1)})),u.A.on("folder.changed",(()=>{this.$refs["navigation-item"].opened?this.refreshFolders():0!==this.folders.length&&(this.folders=[],this.foldersLoaded=!1)})),(0,f.B1)("passwords:encryption:installed",(()=>{this.$refs["navigation-item"].opened?(this.refreshTags(),this.refreshFolders()):0===this.folders.length&&0===this.tags.length||(this.folders=[],this.foldersLoaded=!1,this.tags=[],this.tagsLoaded=!1)}))},methods:{loadFavorites(){0===this.tags.length&&this.refreshTags(),0===this.folders.length&&this.refreshFolders()},refreshTags(){this.loading=!0,m.A.findTags({favorite:!0}).then((t=>{this.tags=g.A.sortApiObjectArray(t,"label"),this.loading=!1}))},refreshFolders(){this.loading=!0,m.A.findFolders({favorite:!0}).then((t=>{this.folders=g.A.sortApiObjectArray(t,"label"),this.loading=!1}))},folderIconColor(t){return this.$route.params?.folder===t?"var(--color-primary-element-text)":"var(--color-primary)"}}},A=(0,n.A)(v,l,[],!1,null,null,null).exports;var y=function(){var t=this,e=t._self._c;return e("app-navigation-item",{ref:"navigation-item",attrs:{name:t.t("Folders"),to:{name:"Folders"},allowCollapse:!0,exact:t.requiresExact,open:t.open,loading:t.loading},on:{"update:open":t.loadFolders}},[e("folder-icon",{attrs:{slot:"icon",size:20},slot:"icon"}),t._v(" "),[t._l(t.folders,(function(a){return e("app-navigation-item",{key:a.id,attrs:{name:a.label,to:{name:"Folders",params:{folder:a.id}},exact:!0,"data-folder-id":a.id,"data-drop-type":"folder"}},[e("folder-icon",{attrs:{slot:"icon",size:20,"fill-color":t.folderIconColor(a.id)},slot:"icon"})],1)})),t._v(" "),t.hasLoaded?t._e():e("nc-loading-icon")]],2)};y._withStripped=!0;const _={components:{AppNavigationItem:r,FolderIcon:c.A,NcLoadingIcon:d.A},data:()=>({open:!1,loading:!1,folders:[],baseId:"00000000-0000-0000-0000-000000000000",hasLoaded:!1}),mounted(){this.open="Folders"===this.$route.name,this.open&&this.loadFolders(),u.A.on("folder.changed",(t=>{let e=t.object;this.$refs["navigation-item"].opened&&(e.id===this.baseId||e.parent===this.baseId||e.parent.hasOwnProperty("id")&&e.parent.id===this.baseId)?this.refreshFolders():this.$refs["navigation-item"].opened||0===this.folders.length||(this.folders=[],this.hasLoaded=!1)})),(0,f.B1)("passwords:encryption:installed",(()=>{this.$refs["navigation-item"].opened?this.refreshFolders():0!==this.folders.length&&(this.folders=[],this.hasLoaded=!1)}))},computed:{requiresExact(){return void 0!==this.folders.find((t=>t.id===this.$route.params?.folder))}},methods:{loadFolders(){0===this.folders.length&&this.refreshFolders()},refreshFolders(){this.loading=!0,m.A.showFolder(this.baseId,"model+folders").then((t=>{this.folders=g.A.sortApiObjectArray(g.A.objectToArray(t.folders),"label"),this.loading=!1,this.hasLoaded=!0}))},folderIconColor(t){return this.$route.params?.folder===t?"var(--color-primary-element-text)":"var(--color-primary)"}}},b=(0,n.A)(_,y,[],!1,null,null,null).exports;var S=function(){var t=this,e=t._self._c;return t.isVisible?e("app-navigation-item",{attrs:{name:t.t("Security"),to:{name:"Security"},allowCollapse:!0,exact:!0,open:t.open}},[e("shield-half-full-icon",{attrs:{slot:"icon",size:20},slot:"icon"}),t._v(" "),[e("app-navigation-item",{attrs:{name:t.t("Secure"),to:{name:"Security",params:{status:"0"}},exact:!0}},[e("shield-half-full-icon",{attrs:{slot:"icon",size:20,"fill-color":"var(--color-success)"},slot:"icon"})],1),t._v(" "),e("app-navigation-item",{attrs:{name:t.t("Weak"),to:{name:"Security",params:{status:"1"}},exact:!0}},[e("shield-half-full-icon",{attrs:{slot:"icon",size:20,"fill-color":"var(--color-warning)"},slot:"icon"})],1),t._v(" "),e("app-navigation-item",{attrs:{name:t.t("Breached"),to:{name:"Security",params:{status:"2"}},exact:!0}},[e("shield-half-full-icon",{attrs:{slot:"icon",size:20,"fill-color":"var(--color-error)"},slot:"icon"})],1)]],2):t._e()};S._withStripped=!0;var x=a(80914),I=a(89843);const k={components:{AppNavigationItem:r,ShieldHalfFullIcon:x.A},data:()=>({isHashEnabled:I.A.get("user.password.security.hash")>0,open:!1}),mounted(){this.open="Security"===this.$route.name},created(){I.A.observe("user.password.security.hash",(t=>{this.isHashEnabled=t.value>0}))},computed:{isVisible(){return"Security"===this.$route.name||this.isHashEnabled}}},w=(0,n.A)(k,S,[],!1,null,null,null).exports;var F=function(){var t=this,e=t._self._c;return e("app-navigation-item",{attrs:{name:t.t("Shares"),to:{name:"Shares"},allowCollapse:!0,open:t.open,exact:!0}},[e("share-variant-icon",{attrs:{slot:"icon",size:20},slot:"icon"}),t._v(" "),[e("app-navigation-item",{attrs:{name:t.t("Shared with you"),to:{name:"Shares",params:{type:"0"}},exact:!0}},[e("share-variant-icon",{attrs:{slot:"icon",size:20},slot:"icon"})],1),t._v(" "),e("app-navigation-item",{attrs:{name:t.t("Shared by you"),to:{name:"Shares",params:{type:"1"}},exact:!0}},[e("share-variant-icon",{attrs:{slot:"icon",size:20},slot:"icon"})],1)]],2)};F._withStripped=!0;const T={components:{AppNavigationItem:r,ShareVariantIcon:a(34612).A},data:()=>({open:!1}),mounted(){this.open="Shares"===this.$route.name}},z=(0,n.A)(T,F,[],!1,null,null,null).exports;var N=function(){var t=this,e=t._self._c;return e("app-navigation-item",{ref:"navigation-item",attrs:{name:t.t("Tags"),to:{name:"Tags"},allowCollapse:!0,exact:t.requiresExact,open:t.open,loading:t.loading},on:{"update:open":t.loadTags}},[e("tag-icon",{attrs:{slot:"icon",size:20},slot:"icon"}),t._v(" "),[t._l(t.tags,(function(t){return e("app-navigation-item",{key:t.id,attrs:{name:t.label,to:{name:"Tags",params:{tag:t.id}},exact:!0,"data-tag-id":t.id,"data-drop-type":"tag"}},[e("tag-icon",{attrs:{slot:"icon",size:20,"fill-color":t.color},slot:"icon"})],1)})),t._v(" "),t.hasLoaded?t._e():e("nc-loading-icon")]],2)};N._withStripped=!0;const $={components:{AppNavigationItem:r,TagIcon:p.A,NcLoadingIcon:d.A},data:()=>({open:!1,loading:!1,tags:[],hasLoaded:!1}),mounted(){this.open="Tags"===this.$route.name,this.open&&this.loadTags();let t=()=>{this.$refs["navigation-item"].opened?this.refreshTags():0!==this.tags.length&&(this.tags=[],this.tagsLoaded=!1)};u.A.on("tag.changed",t),(0,f.B1)("passwords:encryption:installed",t)},computed:{requiresExact(){return void 0!==this.tags.find((t=>t.id===this.$route.params?.tags))}},methods:{loadTags(){0===this.tags.length&&this.refreshTags()},refreshTags(){this.loading=!0,m.A.listTags().then((t=>{this.tags=g.A.sortApiObjectArray(t,"label"),this.hasLoaded=!0,this.loading=!1}))}}},B=(0,n.A)($,N,[],!1,null,null,null).exports;var L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-navigation-entry-more",class:{"large-gap":!t.hasDonate}},[e("NcButton",{attrs:{"aria-label":t.t("Settings"),title:t.t("Settings"),to:{name:"Settings"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("cog-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("NcButton",{attrs:{"aria-label":t.t("Trash"),title:t.t("Trash"),to:{name:"Trash"},"data-drop-type":"trash",icon:"icon-delete"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("delete-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("NcButton",{attrs:{"aria-label":t.t("Backup and Restore"),title:t.t("Backup and Restore"),to:{name:"Backup"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("archive-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("NcButton",{attrs:{"aria-label":t.t("Apps and Extensions"),title:t.t("Apps and Extensions"),to:{name:"Apps and Extensions"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("puzzle-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),e("NcButton",{attrs:{"aria-label":t.t("Handbook"),title:t.t("Handbook"),to:{name:"Help"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("help-circle-icon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),t.hasDonate?e("NcButton",{attrs:{"aria-label":t.t("Donate"),title:t.t("Donate"),href:t.donateURL,target:"_blank",rel:"noreferrer noopener"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("cash-multiple",{attrs:{size:20}})]},proxy:!0}],null,!1,4184085420)}):t._e()],1)};L._withStripped=!0;var C=a(2384),E=a(35686),q=a(23659),M=a(46288),R=a(4082),O=a(62206),D=a(74095),H=a(70113);const V={components:{CashMultiple:R.A,PuzzleIcon:M.A,ArchiveIcon:C.A,CogIcon:E.A,HelpCircleIcon:q.default,DeleteIcon:O.default,NcButton:D.default},data:()=>({donateURL:"https://github.com/marius-wieschollek/passwords/blob/master/Donate.md",hasDonate:H.A.check("donate-button",!0,!0)})};a(93991);const j=(0,n.A)(V,L,[],!1,null,null,null).exports;var P=function(){var t=this,e=t._self._c;return e("nc-text-field",{ref:"searchField",staticClass:"passwords-search-box",attrs:{value:t.value,"aria-label":t.t("SearchInputPlaceholder"),placeholder:t.t("SearchInputPlaceholder"),"show-trailing-button":t.isFocused,"label-outside":"",pill:"",disabled:!t.enabled},on:{focus:t.handleFocus,blur:t.handleBlur,"update:value":t.updateValue,"trailing-button-click":t.resetSearch,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.resetSearch.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.globalSearch.apply(null,arguments)}]}},[e("magnify-icon",{attrs:{size:16}})],1)};P._withStripped=!0;var J=a(5528),Q=a(82182),U=a(16129),W=a(69159);const Y={components:{MagnifyIcon:J.A,NcTextField:Q.A},data:()=>({value:"",enabled:!1,isFocused:!1}),mounted(){(0,f.B1)("passwords:search:available",(t=>{this.enabled=!0})),(0,f.B1)("passwords:search:live",(t=>{this.enabled=t.available,!this.isFocused&&t.available&&this.$refs.searchField.focus()})),(0,f.B1)("passwords:search:search",(t=>{this.value!==t.query&&(this.value=t.query),this.enabled=t.available})),(0,f.B1)("passwords:search:reset",(t=>{this.value="",this.isFocused=!1,this.enabled=t.available}))},methods:{handleFocus(){this.isFocused=!0},handleBlur(){this.isFocused&&0===this.value.length&&this.$nextTick((()=>{this.isFocused=!1}))},updateValue(t){this.value=t,this.searchForQuery(t).catch(W.A.catch)},resetSearch(){U.A.search()},globalSearch(){"Search"!==this.$route.name&&I.A.get("client.search.global")&&this.$router.push({name:"Search",params:{query:btoa(this.value)}})},async searchForQuery(t){U.A.status.query!==t&&U.A.search(t)}}};a(16097);const G=(0,n.A)(Y,P,[],!1,null,null,null).exports;var K=a(63269),X=a(23136),Z=a(66855);const tt={components:{AppNavigationSearch:G,SessionTimeout:K.default,AppNavigationItem:r,AppNavigationItemFavorites:A,AppNavigationItemFolders:b,AppNavigationItemSecurity:w,AppNavigationItemShared:z,AppNavigationItemTags:B,AppNavigationMore:j,ClockIcon:X.A,EarthIcon:Z.A,MagnifyIcon:J.A,NcAppNavigation:o.A},props:{hasTimeout:{},isMobile:{},isSearchVisible:{}}},et=(0,n.A)(tt,s,[],!1,null,null,null).exports},63269:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>h});var s=function(){var t=this,e=t._self._c;return t.showTimer?e("translate",{class:t.cssClass,attrs:{tag:t.tag,say:"You will be logged out in {time} seconds",variables:{time:t.time}}},[e("timer-sand-icon",{attrs:{slot:"icon"},slot:"icon"})],1):t._e()};s._withStripped=!0;var o=a(89843),i=a(16993),n=a(53024),r=a(56423),l=a(9134),d=a(61338);const c={components:{TimerSandIcon:l.A,Translate:n.A},props:{scope:{type:String,default:"menu"}},data:()=>({hasTimeout:i.A.hasTimeout,lastRequest:i.A.lastRequest,lifeTime:1e3*o.A.get("user.session.lifetime"),timer:null,time:100}),created(){this.hasTimeout&&this.startInterval(),(0,d.B1)("passwords:keepalive:updated",(t=>{this.hasTimeout=t.hasTimeout})),(0,d.B1)("passwords:keepalive:activity",(t=>{this.lastRequest=t.time})),o.A.observe("user.session.lifetime",(t=>{this.lifeTime=1e3*t.value}))},computed:{showTimer(){return this.hasTimeout&&this.time<=45&&r.A.isAuthorized},tag(){return"global"===this.scope?"div":"li"},cssClass(){return"session-timeout "+("global"===this.scope?"session-timer-global":"app-navigation-entry--pinned")}},methods:{startInterval(){this.timer=setInterval((()=>{let t=this.lastRequest+this.lifeTime-Date.now();this.time=t>0?Math.round(t/1e3):0}),1e3)}},watch:{hasTimeout(t){clearInterval(this.timer),t&&this.startInterval()}}};a(38887);const h=(0,a(14486).A)(c,s,[],!1,null,null,null).exports},89114:(t,e,a)=>{var s=a(49405);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(70534).A)("05ace344",s,!1,{})},93991:(t,e,a)=>{var s=a(11312);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(70534).A)("ffc44016",s,!1,{})},16097:(t,e,a)=>{var s=a(79774);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(70534).A)("242fb8e4",s,!1,{})},38887:(t,e,a)=>{var s=a(15504);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,a(70534).A)("510177aa",s,!1,{})}}]);